(()=>{var e,t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,c=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&o(e,n,t[n]);if(i)for(var n of i(t))s.call(t,n)&&o(e,n,t[n]);return e},u=(e,t)=>n(e,r(t)),l=(e=function(e){if("undefined"!=typeof require)return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e),d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),p=(e,t,n)=>new Promise(((r,i)=>{var a=e=>{try{o(n.next(e))}catch(e){i(e)}},s=e=>{try{o(n.throw(e))}catch(e){i(e)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())})),_=d(((e,t)=>{t.exports=window.YUI_config.flickr})),g=d(((e,t)=>{t.exports=function(){return function(e,t,n){var r;for(r in e.params)e.params[r]=e.params[r][0];n()}}})),f=d(((e,t)=>{var n=l("hermes-core/type-validator");t.exports=function(e){return function(t,r,i){var a=t.params[e];if(!a||"string"!=typeof a)return i();n.nsid(a)||(t.params[e]=String(a).toLowerCase()),i()}}})),h=d(((e,t)=>{t.exports=function(){return function(e,t,n){e.params instanceof Array&&e.params.shift(),n()}}})),m=d(((e,t)=>{t.exports=function(e){return function(t,n,r){"object"==typeof t.appContext?(t.appContext.routeConfig=e,r()):r(new Error("appContext is undefined"))}}})),v=d(((e,t)=>{_(),l("hermes-core/flog")("bounce-route");t.exports=function(e,t){return function(e,t,n){n()}}})),E=d(((e,t)=>{t.exports=function(){return function(e,t,n){n()}}})),y=d(((e,t)=>{var n=l("hermes-core/flog")("flickr-router");t.exports=function(e,t,r){var i,a=this;return r.redirect?(window.location=r.redirect,Promise.resolve()):(document.title=r.title,a.onRender(),e.appContext.getView(r.view,r.params).then((function(t){return a.onViewLoaded(),(i=t)._params&&(i._params.keyEventScope=i.name+i._yuid),e.appContext.getKeyboardManager().setCurrentKeyEventScope(i.name+i._yuid),i.set("isRootView",!0),i.initialize()})).then((function(){var t,n;a.onViewInitialized(),n=(n=(t=document.querySelector("html")).className.trim()).replace(/html-[\S]+-view/,"html-"+r.view),t.className=n,e.transactionId===a.currentTransactionId&&a.app.showView(i,null,{render:!0,callback:function(t){a.onFinished(),"popstate"!==e.src&&window.scroll(0,0)}})})).catch((function(e){throw n.error("Render had an error",{err:e}),e})))}})),S=d(((e,t)=>{t.exports=e=>Promise.resolve(null)})),b=d(((e,t)=>{var n=l("hermes-core/flog")("flickr-router"),r=l("hermes-core/fletrics"),i=_(),a=g(),s=f(),c=h(),u=m(),d=v(),p=E(),b=y(),T=S();t.exports=class{constructor(e,t,n={}){((e,t,n)=>{o(e,"symbol"!=typeof t?t+"":t,n)})(this,"render",b),this.app=e,this.setupRoutes(t),this.onRender=n.onRender||function(){},this.onViewLoaded=n.onViewLoaded||function(){},this.onViewInitialized=n.onViewInitialized||function(){},this.onFinished=n.onFinished||function(){}}setupRoutes(e){var t,n,r,i,a;for(r in e.patterns)this.registerParam(r,new RegExp(e.patterns[r]));for(t=0;t<e.routes.length;t++)if((i=e.routes[t]).path instanceof Array)for(n=0;n<i.path.length;n++){for(r in a={},i)"path"!==r&&(a[r]=i[r]);a.path=i.path[n],this.registerRoute(a)}else this.registerRoute(i)}registerParam(e,t){this.app.param(e,t)}registerRoute(e){var t=this;this.route(e,[function(e,t,n){"appContext"in window?e.appContext=window.appContext:window.beaconError&&window.beaconError("[flickr-router] No appcontext.",window.location.href),n()},a(),s("nsid_or_path_alias"),c(),u(e),d(e,t),p(e),function(e,t,n){Object.assign(e,i.request),n()},function(n,r,i){t._processRequest(e,n,r,i)}])}route(e,t){var n=[];return n.push(e.path),n=n.concat(t),this.app.route.apply(this.app,n)}_processRequest(e,t,n,r){var i=this;t.transactionId=Date.now()+""+Math.random(),this.currentTransactionId=t.transactionId,t.appContext.startTime=Date.now(),t.appContext.getRoute(e.module).then((function(e){var r;return i.executingRoute=e,r={id:t.id,isPossiblyAdminUser:t.isPossiblyAdminUser,cookies:t.cookies,headers:t.headers,params:t.params,url:t.url.toString(),path:t.path,query:t.query,buckets:t.buckets,lang:t.lang,geo:t.geo,probableUser:t.probableUser,UA:t.UA,hasSessionCookie:t.hasSessionCookie,body:t.body,isInRebootGroups:t.isInRebootGroups},t.isAdminUser&&(r.isAdminUser=t.isAdminUser),t.routeTimingStart=Date.now(),Promise.all([T(t),e.run(r,n)])})).then((function(e){if(e.length>=2){e[0];t.appContext.initialView=e[1].view}return i._renderView(e,t,n,r)})).catch((function(e){return i._throwError.call(i,e,t,n,r)}))}_renderView(e,t,r,a){var s,o=e.length>0?e[0]:null,c=e.length>1?e[1]:null,u={nsid:!0,ispro:!0,segments:!0};if(!c)throw new Error("Invalid viewConfig");if(c.params=c.params||{},o){if(o.signedIn&&o.user&&o.user.username?n.info("user is signed in",{nsid:o.user.nsid,username:o.user.username._content,segments:o.user.segments}):n.info("user is signed out"),o.signedIn&&o.user)for(s in o.user)void 0===u[s]&&delete o.user[s];o.isPossiblyAdminUser=t.isPossiblyAdminUser,t.appContext.auth=o}return c&&void 0!==c.params&&(c.params.isOwner=t.appContext.getViewer().signedIn&&t.appContext.getViewer().nsid===c.params.nsid),c.redirect||(c.params.UA=t.UA,c.params.isMobile=t.UA.isMobileBrowser,c.layout=c.layout||i.rendering.default_layout,c.title=function(e){let t="Flickr";return"string"==typeof e&&(e=e.trim())&&(t=e+" | "+t),t}(c.title),t.appContext.routeTiming=Date.now()-t.routeTimingStart),this.render(t,r,c)}_throwError(e,t,i,a){var s,o=t&&t.UA&&(t.UA.isBot||t.UA.isSharingBot),c=o?r.getBotString():"",u=this;if(!i.headersSent){if(e.is404)return s=u.executingRoute.display404Error(t,e),u.render(t,i,s);if(t&&t.appContext&&e&&e.message&&e.message.indexOf("Not enough storage is available to complete this operation")>-1)return t.appContext.mitigateClientPanda("common.IE_STORAGE_ISSUE");if(t&&t.appContext&&e&&(e.moduleLoadingError||e.message.indexOf("Loading failed: Failed to load https://combo.staticflickr.com/zz/combo?")>-1))return window.beaconError&&window.beaconError("[flickr-router] Module loading Issue:"+e.message,window.location.href,e),t.appContext.mitigateClientPanda("common.MODULES_BLOCKED");try{if(r.increment("hermes.page.failures"+c),n.error("Reboot page failure",{err:e,req:t}),e.fatal?e.timeout||e.clientTimeout?(r.increment("hermes.api.timeouts"+c),n.error("Unexpected error",{err:e,metric:"api.timeouts"+c})):"Site Auth Failed"===e.message||"Session Failed"===e.message?(e.type="SiteAuth",e.redirect=!0):n.error("Unexpected error",{err:e,metric:"api.other"+c}):(n.error("Unexpected error",{err:e,metric:"page.failures.other",isBot:o}),window.beaconError&&window.beaconError("[flickr-router] Unexpected page failure:"+e.message+" UA:"+(navigator&&navigator.userAgent||"").toString(),window.location.href,e)),window.beaconError&&(!e.redirect||"SiteAuth"!==e.type)){e.panda=!0;t&&t.UA&&" unsupported:"+t.UA.isUnsupportedBrowser+" ",window.beaconError("[flickr-router] "+e.message,window.location.href,e)}}catch(t){var l=t;void 0===u.executingRoute&&(l=e),n.info({err:e});try{window.beaconError&&(e.panda=!0,window.beaconError("[flickr-router] _throwError failed: "+e.message,window.location.href,e),l!==e&&window.beaconError(l.message,window.location.href,l))}catch(e){n.info("Failed trying to beacon client error",{err:e})}}return s=u.executingRoute.display500Error(t,e),u.render(t,i,s)}n.info("server render called but headers have already been sent",{timeout:t.timeout})}}})),T=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserBundle=function(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}})),R=d(((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=T();function r(e,t){return e.require(t)}e.dynamicRequire=r,e.isNodeEnv=function(){return!n.isBrowserBundle()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)},e.loadModule=function(e){let n;try{n=r(t,e)}catch(e){}try{let{cwd:i}=r(t,"process");n=r(t,`${i()}/node_modules/${e}`)}catch(e){}return n}})),w=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=R(),n={};function r(){return t.isNodeEnv()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:n}e.getGlobalObject=r,e.getGlobalSingleton=function(e,t,n){var i=n||r(),a=i.__SENTRY__=i.__SENTRY__||{};return a[e]||(a[e]=t())}})),O=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Object.prototype.toString;function n(e,n){return t.call(e)===`[object ${n}]`}function r(e){return n(e,"Object")}function i(e,t){try{return e instanceof t}catch(e){return!1}}e.isDOMError=function(e){return n(e,"DOMError")},e.isDOMException=function(e){return n(e,"DOMException")},e.isElement=function(e){return"undefined"!=typeof Element&&i(e,Element)},e.isError=function(e){switch(t.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return i(e,Error)}},e.isErrorEvent=function(e){return n(e,"ErrorEvent")},e.isEvent=function(e){return"undefined"!=typeof Event&&i(e,Event)},e.isInstanceOf=i,e.isNaN=function(e){return"number"==typeof e&&e!=e},e.isPlainObject=r,e.isPrimitive=function(e){return null===e||"object"!=typeof e&&"function"!=typeof e},e.isRegExp=function(e){return n(e,"RegExp")},e.isString=function(e){return n(e,"String")},e.isSyntheticEvent=function(e){return r(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e},e.isThenable=function(e){return Boolean(e&&e.then&&"function"==typeof e.then)}})),x=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=w(),n=O();function r(e,t){var r=e,i=[];let a,s,o,c,u;if(!r||!r.tagName)return"";i.push(r.tagName.toLowerCase());var l=t&&t.length?t.filter((e=>r.getAttribute(e))).map((e=>[e,r.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{i.push(`[${e[0]}="${e[1]}"]`)}));else if(r.id&&i.push(`#${r.id}`),a=r.className,a&&n.isString(a))for(s=a.split(/\s+/),u=0;u<s.length;u++)i.push(`.${s[u]}`);var d=["type","name","title","alt"];for(u=0;u<d.length;u++)o=d[u],c=r.getAttribute(o),c&&i.push(`[${o}="${c}"]`);return i.join("")}e.getLocationHref=function(){var e=t.getGlobalObject();try{return e.document.location.href}catch(e){return""}},e.htmlTreeAsString=function(e,t){try{let a=e;var n=[];let s=0,o=0;var i=" > ".length;let c;for(;a&&s++<5&&(c=r(a,t),!("html"===c||s>1&&o+n.length*i+c.length>=80));)n.push(c),o+=c.length,a=a.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}})),D=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}};e.SentryError=t})),N=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=D(),n=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function r(e){var r=n.exec(e);if(!r)throw new t.SentryError(`Invalid Sentry Dsn: ${e}`);let[a,s,o="",c,u="",l]=r.slice(1),d="",p=l;var _=p.split("/");if(_.length>1&&(d=_.slice(0,-1).join("/"),p=_.pop()),p){var g=p.match(/^\d+/);g&&(p=g[0])}return i({host:c,pass:o,path:d,projectId:p,port:u,protocol:a,publicKey:s})}function i(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}e.dsnFromString=r,e.dsnToString=function(e,t=!1){let{host:n,path:r,pass:i,port:a,projectId:s,protocol:o,publicKey:c}=e;return`${o}://${c}${t&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${r&&`${r}/`}${s}`},e.makeDsn=function(e){var n="string"==typeof e?r(e):i(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;let{port:n,projectId:r,protocol:i}=e;if(["protocol","publicKey","host","projectId"].forEach((n=>{if(!e[n])throw new t.SentryError(`Invalid Sentry Dsn: ${n} missing`)})),!r.match(/^\d+$/))throw new t.SentryError(`Invalid Sentry Dsn: Invalid projectId ${r}`);if(!function(e){return"http"===e||"https"===e}(i))throw new t.SentryError(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(n&&isNaN(parseInt(n,10)))throw new t.SentryError(`Invalid Sentry Dsn: Invalid port ${n}`)}(n),n}})),P=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=w(),n=t.getGlobalObject(),r=["debug","info","warn","error","log","assert","trace"];function i(e){var n=t.getGlobalObject();if(!("console"in n))return e();var i=n.console,a={};r.forEach((e=>{var t=i[e]&&i[e].__sentry_original__;e in n.console&&t&&(a[e]=i[e],i[e]=t)}));try{return e()}finally{Object.keys(a).forEach((e=>{i[e]=a[e]}))}}function a(){let e=!1;var t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?r.forEach((r=>{t[r]=(...t)=>{e&&i((()=>{n.console[r](`Sentry Logger [${r}]:`,...t)}))}})):r.forEach((e=>{t[e]=()=>{}})),t}e.logger=void 0,"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?e.logger=t.getGlobalSingleton("logger",a):e.logger=a(),e.CONSOLE_LEVELS=r,e.consoleSandbox=i})),C=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=O();e.escapeStringForRegex=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},e.isMatchingPattern=function(e,n){return!!t.isString(e)&&(t.isRegExp(n)?n.test(e):"string"==typeof n&&-1!==e.indexOf(n))},e.safeJoin=function(e,t){if(!Array.isArray(e))return"";var n=[];for(let t=0;t<e.length;t++){var r=e[t];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)},e.snipLine=function(e,t){let n=e;var r=n.length;if(r<=150)return n;t>r&&(t=r);let i=Math.max(t-60,0);i<5&&(i=0);let a=Math.min(i+140,r);return a>r-5&&(a=r),a===r&&(i=Math.max(a-140,0)),n=n.slice(i,a),i>0&&(n=`'{snip} ${n}`),a<r&&(n+=" {snip}"),n},e.truncate=function(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.substr(0,t)}...`}})),k=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=x(),n=O(),r=C();function i(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function a(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,i(e,"__sentry_original__",t)}function s(e){if(n.isError(e))return c({message:e.message,name:e.name,stack:e.stack},u(e));if(n.isEvent(e)){var t=c({type:e.type,target:o(e.target),currentTarget:o(e.currentTarget)},u(e));return"undefined"!=typeof CustomEvent&&n.isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}return e}function o(e){try{return n.isElement(e)?t.htmlTreeAsString(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function u(e){if("object"==typeof e&&null!==e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function l(e,t){if(n.isPlainObject(e)){if(void 0!==(a=t.get(e)))return a;var r={};for(var i of(t.set(e,r),Object.keys(e)))void 0!==e[i]&&(r[i]=l(e[i],t));return r}if(Array.isArray(e)){var a;if(void 0!==(a=t.get(e)))return a;r=[];return t.set(e,r),e.forEach((e=>{r.push(l(e,t))})),r}return e}e.addNonEnumerableProperty=i,e.convertToPlainObject=s,e.dropUndefinedKeys=function(e){return l(e,new Map)},e.extractExceptionKeysForMessage=function(e,t=40){var n=Object.keys(s(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return r.truncate(n[0],t);for(let e=n.length;e>0;e--){var i=n.slice(0,e).join(", ");if(!(i.length>t))return e===n.length?i:r.truncate(i,t)}return""},e.fill=function(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"==typeof i)try{a(i,r)}catch(e){}e[t]=i}},e.getOriginalFunction=function(e){return e.__sentry_original__},e.markFunctionWrapped=a,e.objectify=function(e){let t;switch(!0){case null==e:t=new String(e);break;case"symbol"==typeof e||"bigint"==typeof e:t=Object(e);break;case n.isPrimitive(e):t=new e.constructor(e);break;default:t=e}return t},e.urlEncode=function(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}})),I=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._nullishCoalesce=function(e,t){return null!=e?e:t()}})),A=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=I();e._asyncNullishCoalesce=function(e,n){return p(this,null,(function*(){return t._nullishCoalesce(e,n)}))}})),B=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._asyncOptionalChain=function(e){return p(this,null,(function*(){let t,n=e[0],r=1;for(;r<e.length;){var i=e[r],a=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=yield a(n)):("call"===i||"optionalCall"===i)&&(n=yield a(((...e)=>n.call(t,...e))),t=void 0)}return n}))}})),M=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=B();e._asyncOptionalChainDelete=function(e){return p(this,null,(function*(){var n=yield t._asyncOptionalChain(e);return null==n||n}))}})),G=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._createNamedExportFrom=function(t,n,r){e[n]=t[r]}})),U=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._createStarExport=function(t){Object.keys(t).filter((t=>"default"!==t&&"__esModule"!==t&&!(t in e))).forEach((n=>e[n]=t[n]))}})),j=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._interopDefault=function(e){return e.__esModule?e.default:e}})),Y=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._interopNamespace=function(e){return e.__esModule?e:u(c({},e),{default:e})}})),L=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._interopNamespaceDefaultOnly=function(e){return{__proto__:null,default:e}}})),F=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._interopRequireDefault=function(e){return e.__esModule?e:{default:e}}})),H=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._interopRequireWildcard=function(e){return e.__esModule?e:u(c({},e),{default:e})}})),$=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._optionalChain=function(e){let t,n=e[0],r=1;for(;r<e.length;){var i=e[r],a=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=a(n)):("call"===i||"optionalCall"===i)&&(n=a(((...e)=>n.call(t,...e))),t=void 0)}return n}})),q=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=$();e._optionalChainDelete=function(e){var n=t._optionalChain(e);return null==n||n}})),V=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=A(),n=B(),r=M(),i=G(),a=U(),s=j(),o=Y(),c=L(),u=F(),l=H(),d=I(),p=$(),_=q();e._asyncNullishCoalesce=t._asyncNullishCoalesce,e._asyncOptionalChain=n._asyncOptionalChain,e._asyncOptionalChainDelete=r._asyncOptionalChainDelete,e._createNamedExportFrom=i._createNamedExportFrom,e._createStarExport=a._createStarExport,e._interopDefault=s._interopDefault,e._interopNamespace=o._interopNamespace,e._interopNamespaceDefaultOnly=c._interopNamespaceDefaultOnly,e._interopRequireDefault=u._interopRequireDefault,e._interopRequireWildcard=l._interopRequireWildcard,e._nullishCoalesce=d._nullishCoalesce,e._optionalChain=p._optionalChain,e._optionalChainDelete=_._optionalChainDelete})),z=d((e=>{var{_optionalChain:t}=V();Object.defineProperty(e,"__esModule",{value:!0});function n(...e){var t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{var i=[];for(var a of e.split("\n").slice(n))for(var s of t){var o=s(a);if(o){i.push(o);break}}return r(i)}}function r(e){if(!e.length)return[];let t=e;var n=t[0].function||"",r=t[t.length-1].function||"";return(-1!==n.indexOf("captureMessage")||-1!==n.indexOf("captureException"))&&(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((e=>u(c({},e),{filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}var i="<anonymous>";function a(e){var n=/^\s*[-]{4,}$/,r=/at (?:async )?(?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/;return i=>{if(i.match(n))return{filename:i};var a=i.match(r);if(!a)return;let s,o,c,u,l;if(a[1]){c=a[1];let e=c.lastIndexOf(".");if("."===c[e-1]&&e--,e>0){s=c.substr(0,e),o=c.substr(e+1);var d=s.indexOf(".Module");d>0&&(c=c.substr(d+1),s=s.substr(0,d))}u=void 0}o&&(u=s,l=o),"<anonymous>"===o&&(l=void 0,c=void 0),void 0===c&&(l=l||"<anonymous>",c=u?`${u}.${l}`:l);var p=t([a,"access",e=>e[2],"optionalAccess",e=>e.startsWith,"call",e=>e("file://")])?a[2].substr(7):a[2],_=!("native"===a[5]||p&&!p.startsWith("/")&&!p.startsWith(".")&&1!==p.indexOf(":\\"))&&void 0!==p&&!p.includes("node_modules/");return{filename:p,module:t([e,"optionalCall",e=>e(p)]),function:c,lineno:parseInt(a[3],10)||void 0,colno:parseInt(a[4],10)||void 0,in_app:_}}}e.createStackParser=n,e.getFunctionName=function(e){try{return e&&"function"==typeof e&&e.name||i}catch(e){return i}},e.nodeStackLineParser=function(e){return[90,a(e)]},e.stackParserFromStackParserOptions=function(e){return Array.isArray(e)?n(...e):e},e.stripSentryFramesAndReverse=r})),W=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=w(),n=P();function r(){if(!("fetch"in t.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function i(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}e.isNativeFetch=i,e.supportsDOMError=function(){try{return new DOMError(""),!0}catch(e){return!1}},e.supportsDOMException=function(){try{return new DOMException(""),!0}catch(e){return!1}},e.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},e.supportsFetch=r,e.supportsHistory=function(){var e=t.getGlobalObject(),n=e.chrome,r=n&&n.app&&n.app.runtime,i="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&i},e.supportsNativeFetch=function(){if(!r())return!1;var e=t.getGlobalObject();if(i(e.fetch))return!0;let a=!1;var s=e.document;if(s&&"function"==typeof s.createElement)try{var o=s.createElement("iframe");o.hidden=!0,s.head.appendChild(o),o.contentWindow&&o.contentWindow.fetch&&(a=i(o.contentWindow.fetch)),s.head.removeChild(o)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return a},e.supportsReferrerPolicy=function(){if(!r())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}},e.supportsReportingObserver=function(){return"ReportingObserver"in t.getGlobalObject()}})),K=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t,n=w(),r=O(),i=P(),a=k(),s=z(),o=W(),l=n.getGlobalObject(),d={},p={};function _(e){if(!p[e])switch(p[e]=!0,e){case"console":"console"in l&&i.CONSOLE_LEVELS.forEach((function(e){e in l.console&&a.fill(l.console,e,(function(t){return function(...n){g("console",{args:n,level:e}),t&&t.apply(l.console,n)}}))}));break;case"dom":!function(){if("document"in l){var e=g.bind(null,"dom"),t=E(e,!0);l.document.addEventListener("click",t,!1),l.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{var n=l[t]&&l[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(a.fill(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var a=this,s=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},o=s[n]=s[n]||{refCount:0};if(!o.handler){var c=E(e);o.handler=c,t.call(this,n,c,i)}o.refCount+=1}catch(e){}return t.call(this,n,r,i)}})),a.fill(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this,a=i.__sentry_instrumentation_handlers__||{},s=a[t];s&&(s.refCount-=1,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete a[t]),0===Object.keys(a).length&&delete i.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in l){var e=XMLHttpRequest.prototype;a.fill(e,"open",(function(e){return function(...t){var n=this,i=t[1],s=n.__sentry_xhr__={method:r.isString(t[0])?t[0].toUpperCase():t[0],url:t[1]};r.isString(i)&&"POST"===s.method&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);var o=function(){if(4===n.readyState){try{s.status_code=n.status}catch(e){}g("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?a.fill(n,"onreadystatechange",(function(e){return function(...t){return o(),e.apply(n,t)}})):n.addEventListener("readystatechange",o),e.apply(n,t)}})),a.fill(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),g("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}}();break;case"fetch":o.supportsNativeFetch()&&a.fill(l,"fetch",(function(e){return function(...t){var n={args:t,fetchData:{method:f(t),url:h(t)},startTimestamp:Date.now()};return g("fetch",c({},n)),e.apply(l,t).then((e=>(g("fetch",u(c({},n),{endTimestamp:Date.now(),response:e})),e)),(e=>{throw g("fetch",u(c({},n),{endTimestamp:Date.now(),error:e})),e}))}}));break;case"history":!function(){if(!o.supportsHistory())return;var e=l.onpopstate;function n(e){return function(...n){var r=n.length>2?n[2]:void 0;if(r){var i=t,a=String(r);t=a,g("history",{from:i,to:a})}return e.apply(this,n)}}l.onpopstate=function(...n){var r=l.location.href,i=t;if(t=r,g("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch(e){}},a.fill(l.history,"pushState",n),a.fill(l.history,"replaceState",n)}();break;case"error":y=l.onerror,l.onerror=function(e,t,n,r,i){return g("error",{column:r,error:i,line:n,msg:e,url:t}),!!y&&y.apply(this,arguments)};break;case"unhandledrejection":S=l.onunhandledrejection,l.onunhandledrejection=function(e){return g("unhandledrejection",e),!S||S.apply(this,arguments)};break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.warn("unknown instrumentation type:",e))}}function g(e,t){if(e&&d[e])for(var n of d[e]||[])try{n(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${s.getFunctionName(n)}\nError:`,t)}}function f(e=[]){return"Request"in l&&r.isInstanceOf(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function h(e=[]){return"string"==typeof e[0]?e[0]:"Request"in l&&r.isInstanceOf(e[0],Request)?e[0].url:String(e[0])}var m,v;function E(e,t=!1){return n=>{if(n&&v!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===m||function(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(v,n))&&(e({event:n,name:r,global:t}),v=n),clearTimeout(m),m=l.setTimeout((()=>{m=void 0}),1e3)}}}var y=null;var S=null;e.addInstrumentationHandler=function(e,t){d[e]=d[e]||[],d[e].push(t),_(e)}})),X=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.memoBuilder=function(){var e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++){if(t[e]===n)return!0}return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}})),J=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=w(),n=k(),r=C();function i(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}var a=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;e.addContextToFrame=function(e,t,n=5){var i=t.lineno||0,a=e.length,s=Math.max(Math.min(a,i-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map((e=>r.snipLine(e,0))),t.context_line=r.snipLine(e[Math.min(a-1,s)],t.colno||0),t.post_context=e.slice(Math.min(s+1,a),s+1+n).map((e=>r.snipLine(e,0)))},e.addExceptionMechanism=function(e,t){var n=i(e);if(n){var r=n.mechanism;if(n.mechanism=c(c(c({},{type:"generic",handled:!0}),r),t),t&&"data"in t){var a=c(c({},r&&r.data),t.data);n.mechanism.data=a}}},e.addExceptionTypeValue=function(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")},e.checkOrSetAlreadyCaught=function(e){if(e&&e.__sentry_captured__)return!0;try{n.addNonEnumerableProperty(e,"__sentry_captured__",!0)}catch(e){}return!1},e.getEventDescription=function(e){let{message:t,event_id:n}=e;if(t)return t;var r=i(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"},e.parseSemver=function(e){var t=e.match(a)||[],n=parseInt(t[1],10),r=parseInt(t[2],10),i=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:t[4]}},e.parseUrl=function(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}},e.stripUrlQueryAndFragment=function(e){return e.split(/[\?#]/,1)[0]},e.uuid4=function(){var e=t.getGlobalObject(),n=e.crypto||e.msCrypto;if(void 0!==n&&n.getRandomValues){var r=new Uint16Array(8);n.getRandomValues(r),r[3]=4095&r[3]|16384,r[4]=16383&r[4]|32768;var i=e=>{let t=e.toString(16);for(;t.length<4;)t=`0${t}`;return t};return i(r[0])+i(r[1])+i(r[2])+i(r[3])+i(r[4])+i(r[5])+i(r[6])+i(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}})),Q=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=O(),n=X(),r=k(),i=z();function a(e,t=1/0,n=1/0){try{return s("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function s(e,a,o=1/0,c=1/0,u=n.memoBuilder()){let[l,d]=u;if(null===a||["number","boolean","string"].includes(typeof a)&&!t.isNaN(a))return a;var p=function(e,n){try{return"domain"===e&&n&&"object"==typeof n&&n._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&n===global?"[Global]":"undefined"!=typeof window&&n===window?"[Window]":"undefined"!=typeof document&&n===document?"[Document]":t.isSyntheticEvent(n)?"[SyntheticEvent]":"number"==typeof n&&n!=n?"[NaN]":void 0===n?"[undefined]":"function"==typeof n?`[Function: ${i.getFunctionName(n)}]`:"symbol"==typeof n?`[${String(n)}]`:"bigint"==typeof n?`[BigInt: ${String(n)}]`:`[object ${Object.getPrototypeOf(n).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(e,a);if(!p.startsWith("[object "))return p;if(a.__sentry_skip_normalization__)return a;if(0===o)return p.replace("object ","");if(l(a))return"[Circular ~]";var _=a;if(_&&"function"==typeof _.toJSON)try{return s("",_.toJSON(),o-1,c,u)}catch(e){}var g=Array.isArray(a)?[]:{};let f=0;var h=r.convertToPlainObject(a);for(var m in h)if(Object.prototype.hasOwnProperty.call(h,m)){if(f>=c){g[m]="[MaxProperties ~]";break}var v=h[m];g[m]=s(m,v,o-1,c,u),f+=1}return d(a),g}e.normalize=a,e.normalizeToSize=function e(t,n=3,r=102400){var i=a(t,n);return function(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}(i)>r?e(t,n-1,r):i},e.walk=s})),Z=d((e=>{function t(e,t){let n=0;for(let t=e.length-1;t>=0;t--){var r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}Object.defineProperty(e,"__esModule",{value:!0});var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function r(e){var t=n.exec(e);return t?t.slice(1):[]}function i(...e){let n="",r=!1;for(let t=e.length-1;t>=-1&&!r;t--){var i=t>=0?e[t]:"/";i&&(n=`${i}/${n}`,r="/"===i.charAt(0))}return n=t(n.split("/").filter((e=>!!e)),!r).join("/"),(r?"/":"")+n||"."}function a(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function s(e){var n=o(e),r="/"===e.substr(-1);let i=t(e.split("/").filter((e=>!!e)),!n).join("/");return!i&&!n&&(i="."),i&&r&&(i+="/"),(n?"/":"")+i}function o(e){return"/"===e.charAt(0)}e.basename=function(e,t){let n=r(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},e.dirname=function(e){var t=r(e),n=t[0];let i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.isAbsolute=o,e.join=function(...e){return s(e.join("/"))},e.normalizePath=s,e.relative=function(e,t){e=i(e).substr(1),t=i(t).substr(1);var n=a(e.split("/")),r=a(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let e=0;e<s;e++)if(n[e]!==r[e]){o=e;break}let c=[];for(let e=o;e<n.length;e++)c.push("..");return c=c.concat(r.slice(o)),c.join("/")},e.resolve=i})),ee=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t,n=O();!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(t||(t={}));var r=class{__init(){this._state=t.PENDING}__init2(){this._handlers=[]}constructor(e){r.prototype.__init.call(this),r.prototype.__init2.call(this),r.prototype.__init3.call(this),r.prototype.__init4.call(this),r.prototype.__init5.call(this),r.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new r(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new r(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(t.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(t.REJECTED,e)}}__init5(){this._setResult=(e,r)=>{if(this._state===t.PENDING){if(n.isThenable(r))return void r.then(this._resolve,this._reject);this._state=e,this._value=r,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==t.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===t.RESOLVED&&e[1](this._value),this._state===t.REJECTED&&e[2](this._value),e[0]=!0)}))}}}};e.SyncPromise=r,e.rejectedSyncPromise=function(e){return new r(((t,n)=>{n(e)}))},e.resolvedSyncPromise=function(e){return new r((t=>{t(e)}))}})),te=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=D(),n=ee();e.makePromiseBuffer=function(e){var r=[];function i(e){return r.splice(r.indexOf(e),1)[0]}return{$:r,add:function(a){if(!(void 0===e||r.length<e))return n.rejectedSyncPromise(new t.SentryError("Not adding Promise due to buffer limit reached."));var s=a();return-1===r.indexOf(s)&&r.push(s),s.then((()=>i(s))).then(null,(()=>i(s).then(null,(()=>{})))),s},drain:function(e){return new n.SyncPromise(((t,i)=>{let a=r.length;if(!a)return t(!0);var s=setTimeout((()=>{e&&e>0&&t(!1)}),e);r.forEach((e=>{n.resolvedSyncPromise(e).then((()=>{--a||(clearTimeout(s),t(!0))}),i)}))}))}}}})),ne=d((e=>{var{_optionalChain:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=O(),r=J(),i=Q(),a={ip:!1,request:!0,transaction:!0,user:!0},s=["cookies","data","headers","method","query_string","url"],o=["id","username","email"];function l(e,t={}){var n=e.method&&e.method.toUpperCase();let i="";e.route?i=`${e.baseUrl||""}${e.route.path}`:(e.originalUrl||e.url)&&(i=r.stripUrlQueryAndFragment(e.originalUrl||e.url||""));let a="";return t.method&&n&&(a+=n),t.method&&t.path&&(a+=" "),t.path&&i&&(a+=i),a}function d(e,t){let{include:r=s,deps:a}=t||{};var o={},c=e.headers||{},u=e.method,l=e.hostname||e.host||c.host||"<no host>",d=`${"https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http"}://${l}${e.originalUrl||e.url||""}`;return r.forEach((t=>{switch(t){case"headers":o.headers=c;break;case"method":o.method=u;break;case"url":o.url=d;break;case"cookies":o.cookies=e.cookies||c.cookie&&a&&a.cookie&&a.cookie.parse(c.cookie)||{};break;case"query_string":o.query_string=p(e,a);break;case"data":if("GET"===u||"HEAD"===u)break;void 0!==e.body&&(o.data=n.isString(e.body)?e.body:JSON.stringify(i.normalize(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(o[t]=e[t])}})),o}function p(e,t){let n=e.originalUrl||e.url||"";if(n)return n.startsWith("/")&&(n=`http://dogs.are.great${n}`),e.query||void 0!==typeof URL&&new URL(n).search.replace("?","")||t&&t.url&&t.url.parse(n).query||void 0}e.addRequestDataToEvent=function(e,r,i){var s=c(c({},a),t([i,"optionalAccess",e=>e.include]));if(s.request){var p=Array.isArray(s.request)?d(r,{include:s.request,deps:t([i,"optionalAccess",e=>e.deps])}):d(r,{deps:t([i,"optionalAccess",e=>e.deps])});e.request=c(c({},e.request),p)}if(s.user){var _=r.user&&n.isPlainObject(r.user)?function(e,t){var n={};return(Array.isArray(t)?t:o).forEach((t=>{e&&t in e&&(n[t]=e[t])})),n}(r.user,s.user):{};Object.keys(_).length&&(e.user=c(c({},e.user),_))}if(s.ip){var g=r.ip||r.socket&&r.socket.remoteAddress;g&&(e.user=u(c({},e.user),{ip_address:g}))}return s.transaction&&!e.transaction&&(e.transaction=function(e,t){switch(t){case"path":return l(e,{path:!0});case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";default:return l(e,{path:!0,method:!0})}}(r,s.transaction)),e},e.addRequestDataToTransaction=function(e,t,n){e&&(e.name=l(t,{path:!0,method:!0}),e.setData("url",t.originalUrl||t.url),t.baseUrl&&e.setData("baseUrl",t.baseUrl),e.setData("query",p(t,n)))},e.extractPathForTransaction=l,e.extractRequestData=d})),re=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=["fatal","error","warning","log","info","debug"];function n(e){return"warn"===e?"warning":t.includes(e)?e:"log"}e.severityFromString=function(e){return n(e)},e.severityLevelFromString=n,e.validSeverityLevels=t})),ie=d(((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=w(),r=R(),i={nowSeconds:()=>Date.now()/1e3};var a=r.isNodeEnv()?function(){try{return r.dynamicRequire(t,"perf_hooks").performance}catch(e){return}}():function(){let{performance:e}=n.getGlobalObject();if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),s=void 0===a?i:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},o=i.nowSeconds.bind(i),c=s.nowSeconds.bind(s),u=c,l=void 0!==a;e._browserPerformanceTimeOriginMode=void 0;var d=(()=>{let{performance:t}=n.getGlobalObject();if(t&&t.now){var r=36e5,i=t.now(),a=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+i-a):r,o=s<r,c=t.timing&&t.timing.navigationStart,u="number"==typeof c?Math.abs(c+i-a):r;return o||u<r?s<=u?(e._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(e._browserPerformanceTimeOriginMode="navigationStart",c):(e._browserPerformanceTimeOriginMode="dateNow",a)}e._browserPerformanceTimeOriginMode="none"})();e.browserPerformanceTimeOrigin=d,e.dateTimestampInSeconds=o,e.timestampInSeconds=c,e.timestampWithMs=u,e.usingPerformanceAPI=l})),ae=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");e.TRACEPARENT_REGEXP=t,e.extractTraceparentData=function(e){var n=e.match(t);if(n){let e;return"1"===n[3]?e=!0:"0"===n[3]&&(e=!1),{traceId:n[1],parentSampled:e,parentSpanId:n[2]}}}})),se=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=k();function n(e,t){return(t||new TextEncoder).encode(e)}var r={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};e.addItemToEnvelope=function(e,t){let[n,r]=e;return[n,[...r,t]]},e.createAttachmentEnvelopeItem=function(e,r){var i="string"==typeof e.data?n(e.data,r):e.data;return[t.dropUndefinedKeys({type:"attachment",length:i.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),i]},e.createEnvelope=function(e,t=[]){return[e,t]},e.envelopeItemTypeToDataCategory=function(e){return r[e]},e.forEachEnvelopeItem=function(e,t){e[1].forEach((e=>{var n=e[0].type;t(e,n)}))},e.serializeEnvelope=function(e,t){let[r,i]=e,a=JSON.stringify(r);function s(e){"string"==typeof a?a="string"==typeof e?a+e:[n(a,t),e]:a.push("string"==typeof e?n(e,t):e)}for(var o of i){let[e,t]=o;s(`\n${JSON.stringify(e)}\n`),s("string"==typeof t||t instanceof Uint8Array?t:JSON.stringify(t))}return"string"==typeof a?a:function(e){var t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(var i of e)n.set(i,r),r+=i.length;return n}(a)}})),oe=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=se(),n=ie();e.createClientReportEnvelope=function(e,r,i){var a=[{type:"client_report"},{timestamp:i||n.dateTimestampInSeconds(),discarded_events:e}];return t.createEnvelope(r?{dsn:r}:{},[a])}})),ce=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(e,t=Date.now()){var n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function n(e,t){return e[t]||e.all||0}e.DEFAULT_RETRY_AFTER=6e4,e.disabledUntil=n,e.isRateLimited=function(e,t,r=Date.now()){return n(e,t)>r},e.parseRetryAfterHeader=t,e.updateRateLimits=function(e,{statusCode:n,headers:r},i=Date.now()){var a=c({},e),s=r&&r["x-sentry-rate-limits"],o=r&&r["retry-after"];if(s)for(var u of s.trim().split(",")){let[e,t]=u.split(":",2);var l=parseInt(e,10),d=1e3*(isNaN(l)?60:l);if(t)for(var p of t.split(";"))a[p]=i+d;else a.all=i+d}else o?a.all=i+t(o,i):429===n&&(a.all=i+6e4);return a}})),ue=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=O(),n=P(),r="sentry-",i=/^sentry-/;function a(e,t="",n=!0){return[c({},e),t,n]}function s(e){return 0===Object.keys(e[0]).length}function o(e){return e[1]}function l(e){return e[2]}function d(e){e[2]=!1}function p(e){return Object.keys(e[0]).reduce(((t,i)=>{var a=e[0][i],s=`${r}${encodeURIComponent(i)}=${encodeURIComponent(a)}`,o=""===t?s:`${t},${s}`;return o.length>8192?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn(`Not adding key: ${i} with val: ${a} to baggage due to exceeding baggage size limits.`),t):o}),e[1])}function _(e,r=!1){return!Array.isArray(e)&&!t.isString(e)||"number"==typeof e?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof e,e),a({},"")):(t.isString(e)?e:e.join(",")).split(",").map((e=>e.trim())).filter((e=>""!==e&&(r||i.test(e)))).reduce((([e,t],n)=>{let[r,a]=n.split("=");if(i.test(r)){var s=decodeURIComponent(r.split("-")[1]);return[u(c({},e),{[s]:decodeURIComponent(a)}),t,!0]}return[e,""===t?n:`${t},${n}`,!0]}),[{},"",!0])}e.BAGGAGE_HEADER_NAME="baggage",e.MAX_BAGGAGE_STRING_LENGTH=8192,e.SENTRY_BAGGAGE_KEY_PREFIX=r,e.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=i,e.createBaggage=a,e.getBaggageValue=function(e,t){return e[0][t]},e.getSentryBaggageItems=function(e){return e[0]},e.getThirdPartyBaggage=o,e.isBaggageMutable=l,e.isSentryBaggageEmpty=s,e.mergeAndSerializeBaggage=function(e,t){if(!e&&!t)return"";var n=t&&_(t,!0)||void 0,r=n&&o(n);return p(a(e&&e[0]||{},r||""))},e.parseBaggageHeader=_,e.parseBaggageSetMutability=function(e,t){var n=_(e||"");return(t||!s(n))&&d(n),n},e.serializeBaggage=p,e.setBaggageImmutable=d,e.setBaggageValue=function(e,t,n){l(e)&&(e[0][t]=n)}})),le=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=x(),n=N(),r=D(),i=w(),a=K(),s=O(),o=P(),c=X(),u=J(),l=R(),d=Q(),p=k(),_=Z(),g=te(),f=ne(),h=re(),m=z(),v=C(),E=W(),y=ee(),S=ie(),b=ae(),I=T(),A=se(),B=oe(),M=ce(),G=ue();e.getLocationHref=t.getLocationHref,e.htmlTreeAsString=t.htmlTreeAsString,e.dsnFromString=n.dsnFromString,e.dsnToString=n.dsnToString,e.makeDsn=n.makeDsn,e.SentryError=r.SentryError,e.getGlobalObject=i.getGlobalObject,e.getGlobalSingleton=i.getGlobalSingleton,e.addInstrumentationHandler=a.addInstrumentationHandler,e.isDOMError=s.isDOMError,e.isDOMException=s.isDOMException,e.isElement=s.isElement,e.isError=s.isError,e.isErrorEvent=s.isErrorEvent,e.isEvent=s.isEvent,e.isInstanceOf=s.isInstanceOf,e.isNaN=s.isNaN,e.isPlainObject=s.isPlainObject,e.isPrimitive=s.isPrimitive,e.isRegExp=s.isRegExp,e.isString=s.isString,e.isSyntheticEvent=s.isSyntheticEvent,e.isThenable=s.isThenable,e.CONSOLE_LEVELS=o.CONSOLE_LEVELS,e.consoleSandbox=o.consoleSandbox,Object.defineProperty(e,"logger",{enumerable:!0,get:()=>o.logger}),e.memoBuilder=c.memoBuilder,e.addContextToFrame=u.addContextToFrame,e.addExceptionMechanism=u.addExceptionMechanism,e.addExceptionTypeValue=u.addExceptionTypeValue,e.checkOrSetAlreadyCaught=u.checkOrSetAlreadyCaught,e.getEventDescription=u.getEventDescription,e.parseSemver=u.parseSemver,e.parseUrl=u.parseUrl,e.stripUrlQueryAndFragment=u.stripUrlQueryAndFragment,e.uuid4=u.uuid4,e.dynamicRequire=l.dynamicRequire,e.isNodeEnv=l.isNodeEnv,e.loadModule=l.loadModule,e.normalize=d.normalize,e.normalizeToSize=d.normalizeToSize,e.walk=d.walk,e.addNonEnumerableProperty=p.addNonEnumerableProperty,e.convertToPlainObject=p.convertToPlainObject,e.dropUndefinedKeys=p.dropUndefinedKeys,e.extractExceptionKeysForMessage=p.extractExceptionKeysForMessage,e.fill=p.fill,e.getOriginalFunction=p.getOriginalFunction,e.markFunctionWrapped=p.markFunctionWrapped,e.objectify=p.objectify,e.urlEncode=p.urlEncode,e.basename=_.basename,e.dirname=_.dirname,e.isAbsolute=_.isAbsolute,e.join=_.join,e.normalizePath=_.normalizePath,e.relative=_.relative,e.resolve=_.resolve,e.makePromiseBuffer=g.makePromiseBuffer,e.addRequestDataToEvent=f.addRequestDataToEvent,e.addRequestDataToTransaction=f.addRequestDataToTransaction,e.extractPathForTransaction=f.extractPathForTransaction,e.extractRequestData=f.extractRequestData,e.severityFromString=h.severityFromString,e.severityLevelFromString=h.severityLevelFromString,e.validSeverityLevels=h.validSeverityLevels,e.createStackParser=m.createStackParser,e.getFunctionName=m.getFunctionName,e.nodeStackLineParser=m.nodeStackLineParser,e.stackParserFromStackParserOptions=m.stackParserFromStackParserOptions,e.stripSentryFramesAndReverse=m.stripSentryFramesAndReverse,e.escapeStringForRegex=v.escapeStringForRegex,e.isMatchingPattern=v.isMatchingPattern,e.safeJoin=v.safeJoin,e.snipLine=v.snipLine,e.truncate=v.truncate,e.isNativeFetch=E.isNativeFetch,e.supportsDOMError=E.supportsDOMError,e.supportsDOMException=E.supportsDOMException,e.supportsErrorEvent=E.supportsErrorEvent,e.supportsFetch=E.supportsFetch,e.supportsHistory=E.supportsHistory,e.supportsNativeFetch=E.supportsNativeFetch,e.supportsReferrerPolicy=E.supportsReferrerPolicy,e.supportsReportingObserver=E.supportsReportingObserver,e.SyncPromise=y.SyncPromise,e.rejectedSyncPromise=y.rejectedSyncPromise,e.resolvedSyncPromise=y.resolvedSyncPromise,Object.defineProperty(e,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>S._browserPerformanceTimeOriginMode}),e.browserPerformanceTimeOrigin=S.browserPerformanceTimeOrigin,e.dateTimestampInSeconds=S.dateTimestampInSeconds,e.timestampInSeconds=S.timestampInSeconds,e.timestampWithMs=S.timestampWithMs,e.usingPerformanceAPI=S.usingPerformanceAPI,e.TRACEPARENT_REGEXP=b.TRACEPARENT_REGEXP,e.extractTraceparentData=b.extractTraceparentData,e.isBrowserBundle=I.isBrowserBundle,e.addItemToEnvelope=A.addItemToEnvelope,e.createAttachmentEnvelopeItem=A.createAttachmentEnvelopeItem,e.createEnvelope=A.createEnvelope,e.envelopeItemTypeToDataCategory=A.envelopeItemTypeToDataCategory,e.forEachEnvelopeItem=A.forEachEnvelopeItem,e.serializeEnvelope=A.serializeEnvelope,e.createClientReportEnvelope=B.createClientReportEnvelope,e.DEFAULT_RETRY_AFTER=M.DEFAULT_RETRY_AFTER,e.disabledUntil=M.disabledUntil,e.isRateLimited=M.isRateLimited,e.parseRetryAfterHeader=M.parseRetryAfterHeader,e.updateRateLimits=M.updateRateLimits,e.BAGGAGE_HEADER_NAME=G.BAGGAGE_HEADER_NAME,e.MAX_BAGGAGE_STRING_LENGTH=G.MAX_BAGGAGE_STRING_LENGTH,e.SENTRY_BAGGAGE_KEY_PREFIX=G.SENTRY_BAGGAGE_KEY_PREFIX,e.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=G.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,e.createBaggage=G.createBaggage,e.getBaggageValue=G.getBaggageValue,e.getSentryBaggageItems=G.getSentryBaggageItems,e.getThirdPartyBaggage=G.getThirdPartyBaggage,e.isBaggageMutable=G.isBaggageMutable,e.isSentryBaggageEmpty=G.isSentryBaggageEmpty,e.mergeAndSerializeBaggage=G.mergeAndSerializeBaggage,e.parseBaggageHeader=G.parseBaggageHeader,e.parseBaggageSetMutability=G.parseBaggageSetMutability,e.serializeBaggage=G.serializeBaggage,e.setBaggageImmutable=G.setBaggageImmutable,e.setBaggageValue=G.setBaggageValue})),de=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le();function n(e,n={}){if(n.user&&(!e.ipAddress&&n.user.ip_address&&(e.ipAddress=n.user.ip_address),!e.did&&!n.did&&(e.did=n.user.id||n.user.email||n.user.username)),e.timestamp=n.timestamp||t.timestampInSeconds(),n.ignoreDuration&&(e.ignoreDuration=n.ignoreDuration),n.sid&&(e.sid=32===n.sid.length?n.sid:t.uuid4()),void 0!==n.init&&(e.init=n.init),!e.did&&n.did&&(e.did=`${n.did}`),"number"==typeof n.started&&(e.started=n.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof n.duration)e.duration=n.duration;else{var r=e.timestamp-e.started;e.duration=r>=0?r:0}n.release&&(e.release=n.release),n.environment&&(e.environment=n.environment),!e.ipAddress&&n.ipAddress&&(e.ipAddress=n.ipAddress),!e.userAgent&&n.userAgent&&(e.userAgent=n.userAgent),"number"==typeof n.errors&&(e.errors=n.errors),n.status&&(e.status=n.status)}e.closeSession=function(e,t){let r={};t?r={status:t}:"ok"===e.status&&(r={status:"exited"}),n(e,r)},e.makeSession=function(e){var r=t.timestampInSeconds(),i={sid:t.uuid4(),init:!0,timestamp:r,started:r,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return t.dropUndefinedKeys({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(i)};return e&&n(i,e),i},e.updateSession=n})),pe=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=de(),r=class{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){var t=new r;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags=c({},e._tags),t._extra=c({},e._extra),t._contexts=c({},e._contexts),t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments]),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&n.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags=c(c({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,t){return this._tags=u(c({},this._tags),{[e]:t}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=c(c({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,t){return this._extra=u(c({},this._extra),{[e]:t}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts=u(c({},this._contexts),{[e]:t}),this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof r?n:this}return e instanceof r?(this._tags=c(c({},this._tags),e._tags),this._extra=c(c({},this._extra),e._extra),this._contexts=c(c({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):t.isPlainObject(e)&&(e=e,this._tags=c(c({},this._tags),e.tags),this._extra=c(c({},this._extra),e.extra),this._contexts=c(c({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,n){var r="number"==typeof n?Math.min(n,100):100;if(r<=0)return this;var i=c({timestamp:t.dateTimestampInSeconds()},e);return this._breadcrumbs=[...this._breadcrumbs,i].slice(-r),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra=c(c({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=c(c({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=c(c({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=c(c({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=c({trace:this._span.getTraceContext()},e.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags=c({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=c(c({},e.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([...i(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=c(c({},this._sdkProcessingMetadata),e),this}_notifyEventProcessors(e,n,r,i=0){return new t.SyncPromise(((a,s)=>{var o=e[i];if(null===n||"function"!=typeof o)a(n);else{var u=o(c({},n),r);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.id&&null===u&&t.logger.log(`Event processor "${o.id}" dropped event`),t.isThenable(u)?u.then((t=>this._notifyEventProcessors(e,t,r,i+1).then(a))).then(null,s):this._notifyEventProcessors(e,u,r,i+1).then(a).then(null,s)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}};function i(){return t.getGlobalSingleton("globalEventProcessors",(()=>[]))}e.Scope=r,e.addGlobalEventProcessor=function(e){i().push(e)}})),_e=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=pe(),r=de(),i=100,a=class{__init(){this._stack=[{}]}constructor(e,t=new n.Scope,r=4){this._version=r,a.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=n.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){var r=this._lastEventId=n&&n.event_id?n.event_id:t.uuid4(),i=new Error("Sentry syntheticException");return this._withClient(((t,a)=>{t.captureException(e,u(c({originalException:e,syntheticException:i},n),{event_id:r}),a)})),r}captureMessage(e,n,r){var i=this._lastEventId=r&&r.event_id?r.event_id:t.uuid4(),a=new Error(e);return this._withClient(((t,s)=>{t.captureMessage(e,n,u(c({originalException:e,syntheticException:a},r),{event_id:i}),s)})),i}captureEvent(e,n){var r=n&&n.event_id?n.event_id:t.uuid4();return"transaction"!==e.type&&(this._lastEventId=r),this._withClient(((t,i)=>{t.captureEvent(e,u(c({},n),{event_id:r}),i)})),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){let{scope:r,client:a}=this.getStackTop();if(!r||!a)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:o=i}=a.getOptions&&a.getOptions()||{};if(!(o<=0)){var u=t.dateTimestampInSeconds(),l=c({timestamp:u},e),d=s?t.consoleSandbox((()=>s(l,n))):l;null!==d&&r.addBreadcrumb(d,o)}}setUser(e){var t=this.getScope();t&&t.setUser(e)}setTags(e){var t=this.getScope();t&&t.setTags(e)}setExtras(e){var t=this.getScope();t&&t.setExtras(e)}setTag(e,t){var n=this.getScope();n&&n.setTag(e,t)}setExtra(e,t){var n=this.getScope();n&&n.setExtra(e,t)}setContext(e,t){var n=this.getScope();n&&n.setContext(e,t)}configureScope(e){let{scope:t,client:n}=this.getStackTop();t&&n&&e(t)}run(e){var t=o(this);try{e(this)}finally{o(t)}}getIntegration(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&r.closeSession(n),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){let{scope:n,client:i}=this.getStackTop(),{release:a,environment:s}=i&&i.getOptions()||{};var o=t.getGlobalObject();let{userAgent:u}=o.navigator||{};var l=r.makeSession(c(c(c({release:a,environment:s},n&&{user:n.getUser()}),u&&{userAgent:u}),e));if(n){var d=n.getSession&&n.getSession();d&&"ok"===d.status&&r.updateSession(d,{status:"exited"}),this.endSession(),n.setSession(l)}return l}shouldSendDefaultPii(){var e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:t}=this.getStackTop();if(e){var n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}}_withClient(e){let{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...n){var r=s().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function s(){var e=t.getGlobalObject();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function o(e){var t=s(),n=d(t);return p(t,e),n}function l(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function d(e){return t.getGlobalSingleton("hub",(()=>new a),e)}function p(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}e.API_VERSION=4,e.Hub=a,e.getCurrentHub=function(){var e=s();return(!l(e)||d(e).isOlderThan(4))&&p(e,new a),t.isNodeEnv()?function(e){try{var t=s().__SENTRY__,r=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!r)return d(e);if(!l(r)||d(r).isOlderThan(4)){var i=d(e).getStackTop();p(r,new a(i.client,n.Scope.clone(i.scope)))}return d(r)}catch(t){return d(e)}}(e):d(e)},e.getHubFromCarrier=d,e.getMainCarrier=s,e.makeMain=o,e.setHubOnCarrier=p})),ge=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=_e(),r=class{__init(){this.flushTimeout=60}__init2(){this._pendingAggregates={}}__init3(){this._isEnabled=!0}constructor(e,t){r.prototype.__init.call(this),r.prototype.__init2.call(this),r.prototype.__init3.call(this),this._client=e,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._sessionAttrs=t}flush(){var e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){var e=Object.keys(this._pendingAggregates).map((e=>this._pendingAggregates[parseInt(e)])),n={attrs:this._sessionAttrs,aggregates:e};return t.dropUndefinedKeys(n)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(this._isEnabled){var e=n.getCurrentHub().getScope(),t=e&&e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e&&e.setRequestSession(void 0))}}_incrementSessionStatusCount(e,t){var n=new Date(t).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var r=this._pendingAggregates[n];switch(r.started||(r.started=new Date(n).toISOString()),e){case"errored":return r.errored=(r.errored||0)+1,r.errored;case"ok":return r.exited=(r.exited||0)+1,r.exited;default:return r.crashed=(r.crashed||0)+1,r.crashed}}};e.SessionFlusher=r})),fe=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=_e();e.addBreadcrumb=function(e){t.getCurrentHub().addBreadcrumb(e)},e.captureEvent=function(e,n){return t.getCurrentHub().captureEvent(e,n)},e.captureException=function(e,n){return t.getCurrentHub().captureException(e,{captureContext:n})},e.captureMessage=function(e,n){var r="string"==typeof n?n:void 0,i="string"!=typeof n?{captureContext:n}:void 0;return t.getCurrentHub().captureMessage(e,r,i)},e.configureScope=function(e){t.getCurrentHub().configureScope(e)},e.setContext=function(e,n){t.getCurrentHub().setContext(e,n)},e.setExtra=function(e,n){t.getCurrentHub().setExtra(e,n)},e.setExtras=function(e){t.getCurrentHub().setExtras(e)},e.setTag=function(e,n){t.getCurrentHub().setTag(e,n)},e.setTags=function(e){t.getCurrentHub().setTags(e)},e.setUser=function(e){t.getCurrentHub().setUser(e)},e.startTransaction=function(e,n){return t.getCurrentHub().startTransaction(c({metadata:{source:"custom"}},e),n)},e.withScope=function(e){t.getCurrentHub().withScope(e)}})),he=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=pe(),n=de(),r=ge(),i=_e(),a=fe();e.Scope=t.Scope,e.addGlobalEventProcessor=t.addGlobalEventProcessor,e.closeSession=n.closeSession,e.makeSession=n.makeSession,e.updateSession=n.updateSession,e.SessionFlusher=r.SessionFlusher,e.Hub=i.Hub,e.getCurrentHub=i.getCurrentHub,e.getHubFromCarrier=i.getHubFromCarrier,e.getMainCarrier=i.getMainCarrier,e.makeMain=i.makeMain,e.setHubOnCarrier=i.setHubOnCarrier,e.addBreadcrumb=a.addBreadcrumb,e.captureEvent=a.captureEvent,e.captureException=a.captureException,e.captureMessage=a.captureMessage,e.configureScope=a.configureScope,e.setContext=a.setContext,e.setExtra=a.setExtra,e.setExtras=a.setExtras,e.setTag=a.setTag,e.setTags=a.setTags,e.setUser=a.setUser,e.startTransaction=a.startTransaction,e.withScope=a.withScope})),me=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le();function n(e){var t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}e.getEnvelopeEndpointWithUrlEncodedAuth=function(e,r={}){var i="string"==typeof r?r:r.tunnel,a="string"!=typeof r&&r._metadata?r._metadata.sdk:void 0;return i||`${function(e){return`${n(e)}${e.projectId}/envelope/`}(e)}?${function(e,n){return t.urlEncode(c({sentry_key:e.publicKey,sentry_version:"7"},n&&{sentry_client:`${n.name}/${n.version}`}))}(e,a)}`},e.getReportDialogEndpoint=function(e,r){var i=t.makeDsn(e),a=`${n(i)}embed/error-page/`;let s=`dsn=${t.dsnToString(i)}`;for(var o in r)if("dsn"!==o)if("user"===o){var c=r.user;if(!c)continue;c.name&&(s+=`&name=${encodeURIComponent(c.name)}`),c.email&&(s+=`&email=${encodeURIComponent(c.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(r[o])}`;return`${a}?${s}`}})),ve=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le();function n(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}e.createEventEnvelope=function(e,r,i,a){var s=n(i),o=e.type||"event";let{transactionSampling:u}=e.sdkProcessingMetadata||{},{method:l,rate:d}=u||{};!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,i&&i.sdk);var p=function(e,n,r,i){var a=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baggage,s=a&&t.getSentryBaggageItems(a);return c(c(c({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!r&&{dsn:t.dsnToString(i)}),"transaction"===e.type&&s&&{trace:t.dropUndefinedKeys(c({},s))})}(e,s,a,r);delete e.sdkProcessingMetadata;var _=[{type:o,sample_rates:[{id:l,rate:d}]},e];return t.createEnvelope(p,[_])},e.createSessionEnvelope=function(e,r,i,a){var s=n(i),o=c(c({sent_at:(new Date).toISOString()},s&&{sdk:s}),!!a&&{dsn:t.dsnToString(r)}),u="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return t.createEnvelope(o,[u])}})),Ee=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=he(),n=le(),r=[];function i(e){return e.reduce(((e,t)=>(e.every((e=>t.name!==e.name))&&e.push(t),e)),[])}e.getIntegrationsToSetup=function(e){var t=e.defaultIntegrations&&[...e.defaultIntegrations]||[],n=e.integrations;let r=[...i(t)];Array.isArray(n)?r=[...r.filter((e=>n.every((t=>t.name!==e.name)))),...i(n)]:"function"==typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var a=r.map((e=>e.name)),s="Debug";return-1!==a.indexOf(s)&&r.push(...r.splice(a.indexOf(s),1)),r},e.installedIntegrations=r,e.setupIntegrations=function(e){var i={};return e.forEach((e=>{i[e.name]=e,-1===r.indexOf(e.name)&&(e.setupOnce(t.addGlobalEventProcessor,t.getCurrentHub),r.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(`Integration installed: ${e.name}`))})),i}})),ye=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=he(),n=le(),r=me(),i=ve(),a=Ee(),s="Not capturing exception because it's already been captured.",o=class{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(o.prototype.__init.call(this),o.prototype.__init2.call(this),o.prototype.__init3.call(this),o.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=n.makeDsn(e.dsn);var t=r.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e);this._transport=e.transport(u(c({recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{url:t}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("No DSN provided, client will not do anything.")}captureException(e,t,r){if(n.checkOrSetAlreadyCaught(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(s));let i=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,r))).then((e=>{i=e}))),i}captureMessage(e,t,r,i){let a=r&&r.event_id;var s=n.isPrimitive(e)?this.eventFromMessage(String(e),t,r):this.eventFromException(e,r);return this._process(s.then((e=>this._captureEvent(e,r,i))).then((e=>{a=e}))),a}captureEvent(e,t,r){if(t&&t.originalException&&n.checkOrSetAlreadyCaught(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(s));let i=t&&t.event_id;return this._process(this._captureEvent(e,t,r).then((e=>{i=e}))),i}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),t.updateSession(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):n.resolvedSyncPromise(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=a.setupIntegrations(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,t={}){if(this._dsn){let a=i.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(var r of t.attachments||[])a=n.addItemToEnvelope(a,n.createAttachmentEnvelopeItem(r,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(a)}}sendSession(e){if(this._dsn){var t=i.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t){if(this._options.sendClientReports){var r=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}_updateSessionFromEvent(e,n){let r=!1,i=!1;var a=n.exception&&n.exception.values;if(a)for(var s of(i=!0,a)){var o=s.mechanism;if(o&&!1===o.handled){r=!0;break}}var l="ok"===e.status;(l&&0===e.errors||l&&r)&&(t.updateSession(e,u(c({},r&&{status:"crashed"}),{errors:e.errors||Number(i||r)})),this.captureSession(e))}_isClientDoneProcessing(e){return new n.SyncPromise((t=>{let n=0;var r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,r,i){let{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=this.getOptions();var o=u(c({},e),{event_id:e.event_id||r.event_id||n.uuid4(),timestamp:e.timestamp||n.dateTimestampInSeconds()});this._applyClientOptions(o),this._applyIntegrationsMetadata(o);let l=i;r.captureContext&&(l=t.Scope.clone(l).update(r.captureContext));let d=n.resolvedSyncPromise(o);if(l){var p=[...r.attachments||[],...l.getAttachments()];p.length&&(r.attachments=p),d=l.applyToEvent(o,r)}return d.then((e=>"number"==typeof a&&a>0?this._normalizeEvent(e,a,s):e))}_normalizeEvent(e,t,r){if(!e)return null;var i=c(c(c(c(c({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>c(c({},e),e.data&&{data:n.normalize(e.data,t,r)})))}),e.user&&{user:n.normalize(e.user,t,r)}),e.contexts&&{contexts:n.normalize(e.contexts,t,r)}),e.extra&&{extra:n.normalize(e.extra,t,r)});return e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=n.normalize(e.contexts.trace.data,t,r))),e.spans&&(i.spans=e.spans.map((e=>(e.data&&(e.data=n.normalize(e.data,t,r)),e)))),i}_applyClientOptions(e){var t=this.getOptions();let{environment:r,release:i,dist:a,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?r:"production"),void 0===e.release&&void 0!==i&&(e.release=i),void 0===e.dist&&void 0!==a&&(e.dist=a),e.message&&(e.message=n.truncate(e.message,s));var o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=n.truncate(o.value,s));var c=e.request;c&&c.url&&(c.url=n.truncate(c.url,s))}_applyIntegrationsMetadata(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then((e=>e.event_id),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn(e)}))}_processEvent(e,t,r){let{beforeSend:i,sampleRate:a}=this.getOptions();if(!this._isEnabled())return n.rejectedSyncPromise(new n.SentryError("SDK not enabled, will not capture event."));var s="transaction"===e.type;return!s&&"number"==typeof a&&Math.random()>a?(this.recordDroppedEvent("sample_rate","error"),n.rejectedSyncPromise(new n.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${a})`))):this._prepareEvent(e,t,r).then((r=>{if(null===r)throw this.recordDroppedEvent("event_processor",e.type||"error"),new n.SentryError("An event processor returned null, will not send event.");return t.data&&!0===t.data.__sentry__||s||!i?r:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if(n.isThenable(e))return e.then((e=>{if(!n.isPlainObject(e)&&null!==e)throw new n.SentryError(t);return e}),(e=>{throw new n.SentryError(`beforeSend rejected with ${e}`)}));if(!n.isPlainObject(e)&&null!==e)throw new n.SentryError(t);return e}(i(r,t))})).then((i=>{if(null===i)throw this.recordDroppedEvent("before_send",e.type||"error"),new n.SentryError("`beforeSend` returned `null`, will not send event.");var a=r&&r.getSession();return!s&&a&&this._updateSessionFromEvent(a,i),this.sendEvent(i,t),i})).then(null,(e=>{throw e instanceof n.SentryError?e:(this.captureException(e,{data:{__sentry__:!0},originalException:e}),new n.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`))}))}_process(e){this._numProcessing+=1,e.then((e=>(this._numProcessing-=1,e)),(e=>(this._numProcessing-=1,e)))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("Error while sending event:",e)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{let[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}};e.BaseClient=o})),Se=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=he(),n=le();e.initAndBind=function(e,r){!0===r.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?n.logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var i=t.getCurrentHub(),a=i.getScope();a&&a.update(r.initialScope);var s=new e(r);i.bindClient(s)}})),be=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le();e.DEFAULT_TRANSPORT_BUFFER_SIZE=30,e.createTransport=function(e,n,r=t.makePromiseBuffer(e.bufferSize||30)){let i={};return{send:function(a){var s=[];if(t.forEachEnvelopeItem(a,((n,r)=>{var a=t.envelopeItemTypeToDataCategory(r);t.isRateLimited(i,a)?e.recordDroppedEvent("ratelimit_backoff",a):s.push(n)})),0===s.length)return t.resolvedSyncPromise();var o=t.createEnvelope(a[0],s),c=n=>{t.forEachEnvelopeItem(o,((r,i)=>{e.recordDroppedEvent(n,t.envelopeItemTypeToDataCategory(i))}))};return r.add((()=>n({body:t.serializeEnvelope(o,e.textEncoder)}).then((e=>{void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),i=t.updateRateLimits(i,e)}),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error("Failed while sending event:",e),c("network_error")})))).then((e=>e),(e=>{if(e instanceof t.SentryError)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error("Skipped sending event due to full buffer"),c("queue_overflow"),t.resolvedSyncPromise();throw e}))},flush:e=>r.drain(e)}}})),Te=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});e.SDK_VERSION="7.7.0"})),Re=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t,n=le(),r=class{constructor(){r.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=r.id}setupOnce(){t=Function.prototype.toString,Function.prototype.toString=function(...e){var r=n.getOriginalFunction(this)||this;return t.apply(r,e)}}};r.__initStatic(),e.FunctionToString=r})),we=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],r=class{static __initStatic(){this.id="InboundFilters"}__init(){this.name=r.id}constructor(e={}){this._options=e,r.prototype.__init.call(this)}setupOnce(e,t){var n=e=>{var n=t();if(n){var s=n.getIntegration(r);if(s){var o=n.getClient(),c=o?o.getOptions():{};return a(e,i(s._options,c))?null:e}}return e};n.id=this.name,e(n)}};function i(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...n],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}function a(e,n){return n.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${t.getEventDescription(e)}`),!0):function(e,n){return!(!n||!n.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{let{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error(`Cannot extract message for event ${t.getEventDescription(e)}`),[]}return[]}(e).some((e=>n.some((n=>t.isMatchingPattern(e,n)))))}(e,n.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${t.getEventDescription(e)}`),!0):function(e,n){if(!n||!n.length)return!1;var r=s(e);return!!r&&n.some((e=>t.isMatchingPattern(r,e)))}(e,n.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${t.getEventDescription(e)}.\nUrl: ${s(e)}`),!0):!function(e,n){if(!n||!n.length)return!0;var r=s(e);return!r||n.some((e=>t.isMatchingPattern(r,e)))}(e,n.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${t.getEventDescription(e)}.\nUrl: ${s(e)}`),!0)}function s(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let n=e.length-1;n>=0;n--){var t=e[n];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(t):null}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error(`Cannot extract url for event ${t.getEventDescription(e)}`),null}}r.__initStatic(),e.InboundFilters=r,e._mergeOptions=i,e._shouldDropEvent=a})),Oe=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Re(),n=we();e.FunctionToString=t.FunctionToString,e.InboundFilters=n.InboundFilters})),xe=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=he(),n=me(),r=ye(),i=Se(),a=be(),s=Te(),o=Ee(),c=Oe(),u=Re(),l=we();e.Hub=t.Hub,e.Scope=t.Scope,e.addBreadcrumb=t.addBreadcrumb,e.addGlobalEventProcessor=t.addGlobalEventProcessor,e.captureEvent=t.captureEvent,e.captureException=t.captureException,e.captureMessage=t.captureMessage,e.configureScope=t.configureScope,e.getCurrentHub=t.getCurrentHub,e.getHubFromCarrier=t.getHubFromCarrier,e.makeMain=t.makeMain,e.setContext=t.setContext,e.setExtra=t.setExtra,e.setExtras=t.setExtras,e.setTag=t.setTag,e.setTags=t.setTags,e.setUser=t.setUser,e.startTransaction=t.startTransaction,e.withScope=t.withScope,e.getEnvelopeEndpointWithUrlEncodedAuth=n.getEnvelopeEndpointWithUrlEncodedAuth,e.getReportDialogEndpoint=n.getReportDialogEndpoint,e.BaseClient=r.BaseClient,e.initAndBind=i.initAndBind,e.createTransport=a.createTransport,e.SDK_VERSION=s.SDK_VERSION,e.getIntegrationsToSetup=o.getIntegrationsToSetup,e.Integrations=c,e.FunctionToString=u.FunctionToString,e.InboundFilters=l.InboundFilters})),De=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le();function n(e,t){var n=a(e,t),r={type:t&&t.name,value:o(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function r(e,n,r,i){var s={exception:{values:[{type:t.isEvent(n)?n.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${t.extractExceptionKeysForMessage(n)}`}]},extra:{__serialized__:t.normalizeToSize(n)}};if(r){var o=a(e,r);o.length&&(s.exception.values[0].stacktrace={frames:o})}return s}function i(e,t){return{exception:{values:[n(e,t)]}}}function a(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(s.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}var s=/Minified React error #\d+;/i;function o(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function l(e,n,a,s,o){let l;if(t.isErrorEvent(n)&&n.error)return i(e,n.error);if(t.isDOMError(n)||t.isDOMException(n)){var p=n;if("stack"in n)l=i(e,n);else{var _=p.name||(t.isDOMError(p)?"DOMError":"DOMException"),g=p.message?`${_}: ${p.message}`:_;l=d(e,g,a,s),t.addExceptionTypeValue(l,g)}return"code"in p&&(l.tags=u(c({},l.tags),{"DOMException.code":`${p.code}`})),l}return t.isError(n)?i(e,n):t.isPlainObject(n)||t.isEvent(n)?(l=r(e,n,a,o),t.addExceptionMechanism(l,{synthetic:!0}),l):(l=d(e,n,a,s),t.addExceptionTypeValue(l,`${n}`,void 0),t.addExceptionMechanism(l,{synthetic:!0}),l)}function d(e,t,n,r){var i={message:t};if(r&&n){var s=a(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}return i}e.eventFromError=i,e.eventFromException=function(e,n,r,i){var a=l(e,n,r&&r.syntheticException||void 0,i);return t.addExceptionMechanism(a),a.level="error",r&&r.event_id&&(a.event_id=r.event_id),t.resolvedSyncPromise(a)},e.eventFromMessage=function(e,n,r="info",i,a){var s=d(e,n,i&&i.syntheticException||void 0,a);return s.level=r,i&&i.event_id&&(s.event_id=i.event_id),t.resolvedSyncPromise(s)},e.eventFromPlainObject=r,e.eventFromString=d,e.eventFromUnknownInput=l,e.exceptionFromError=n,e.parseStackFrames=a})),Ne=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=le(),r="Breadcrumbs",i=class{static __initStatic(){this.id=r}__init(){this.name=i.id}constructor(e){i.prototype.__init.call(this),this.options=c({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}setupOnce(){this.options.console&&n.addInstrumentationHandler("console",a),this.options.dom&&n.addInstrumentationHandler("dom",function(e){function r(r){let i,a="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof a&&(a=[a]);try{i=r.event.target?n.htmlTreeAsString(r.event.target,a):n.htmlTreeAsString(r.event,a)}catch(e){i="<unknown>"}0!==i.length&&t.getCurrentHub().addBreadcrumb({category:`ui.${r.name}`,message:i},{event:r.event,name:r.name,global:r.global})}return r}(this.options.dom)),this.options.xhr&&n.addInstrumentationHandler("xhr",s),this.options.fetch&&n.addInstrumentationHandler("fetch",o),this.options.history&&n.addInstrumentationHandler("history",l)}};function a(e){var r={category:"console",data:{arguments:e.args,logger:"console"},level:n.severityLevelFromString(e.level),message:n.safeJoin(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;r.message=`Assertion failed: ${n.safeJoin(e.args.slice(1)," ")||"console.assert"}`,r.data.arguments=e.args.slice(1)}t.getCurrentHub().addBreadcrumb(r,{input:e.args,level:e.level})}function s(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;let{method:n,url:r,status_code:i,body:a}=e.xhr.__sentry_xhr__||{};t.getCurrentHub().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:a})}else;}function o(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?t.getCurrentHub().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):t.getCurrentHub().addBreadcrumb({category:"fetch",data:u(c({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))}function l(e){var r=n.getGlobalObject();let i=e.from,a=e.to;var s=n.parseUrl(r.location.href);let o=n.parseUrl(i);var c=n.parseUrl(a);o.path||(o=s),s.protocol===c.protocol&&s.host===c.host&&(a=c.relative),s.protocol===o.protocol&&s.host===o.host&&(i=o.relative),t.getCurrentHub().addBreadcrumb({category:"navigation",data:{from:i,to:a}})}i.__initStatic(),e.BREADCRUMB_INTEGRATION_ID=r,e.Breadcrumbs=i})),Pe=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t,n=le(),r=n.getGlobalObject();function i(){if(t)return t;if(n.isNativeFetch(r.fetch))return t=r.fetch.bind(r);var e=r.document;let i=r.fetch;if(e&&"function"==typeof e.createElement)try{var a=e.createElement("iframe");a.hidden=!0,e.head.appendChild(a);var s=a.contentWindow;s&&s.fetch&&(i=s.fetch),e.head.removeChild(a)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t=i.bind(r)}e.getNativeFetchImplementation=i,e.sendReport=function(e,t){if("[object Navigator]"===Object.prototype.toString.call(r&&r.navigator)&&"function"==typeof r.navigator.sendBeacon)r.navigator.sendBeacon.bind(r.navigator)(e,t);else if(n.supportsFetch()){i()(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error(e)}))}}})),Ce=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=le(),r=De(),i=Ne(),a=Pe(),s=n.getGlobalObject(),o=class extends t.BaseClient{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:t.SDK_VERSION}],version:t.SDK_VERSION},super(e),e.sendClientReports&&s.document&&s.document.addEventListener("visibilitychange",(()=>{"hidden"===s.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return r.eventFromException(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return r.eventFromMessage(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,r){var a=this.getIntegrationById(i.BREADCRUMB_INTEGRATION_ID);a&&a.options&&a.options.sentry&&t.getCurrentHub().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:n.getEventDescription(e)},{event:e}),super.sendEvent(e,r)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("Sending outcomes:",e);var r=t.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,this._options),i=n.createClientReportEnvelope(e,this._options.tunnel&&n.dsnToString(this._dsn));try{a.sendReport(r,n.serializeEnvelope(i))}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error(e)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("No outcomes to send")}};e.BrowserClient=o})),ke=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=Pe();e.makeFetchTransport=function(e,r=n.getNativeFetchImplementation()){return t.createTransport(e,(function(t){var n=c({body:t.body,method:"POST",referrerPolicy:"origin",headers:e.headers},e.fetchOptions);return r(e.url,n).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}))}})),Ie=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=le();e.makeXHRTransport=function(e){return t.createTransport(e,(function(t){return new n.SyncPromise(((n,r)=>{var i=new XMLHttpRequest;for(var a in i.onerror=r,i.onreadystatechange=()=>{4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,a)&&i.setRequestHeader(a,e.headers[a]);i.send(t.body)}))}))}})),Ae=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ke(),n=Ie();e.makeFetchTransport=t.makeFetchTransport,e.makeXHRTransport=n.makeXHRTransport})),Be=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n="?";function r(e,t,n,r){var i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var i=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/,s=[30,e=>{var t=i.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var s=a.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}let[e,i]=v(t[1]||n,t[2]);return r(i,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],o=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=[50,e=>{var t=o.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var i=c.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let e=t[3],a=t[1]||n;return[a,e]=v(a,e),r(e,a,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=[40,e=>{var t=l.exec(e);return t?r(t[2],t[1]||n,+t[3],t[4]?+t[4]:void 0):void 0}],p=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,_=[10,e=>{var t=p.exec(e);return t?r(t[2],t[3]||n,+t[1]):void 0}],g=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,f=[20,e=>{var t=g.exec(e);return t?r(t[5],t[3]||t[4]||n,+t[1],+t[2]):void 0}],h=[s,u,d],m=t.createStackParser(...h),v=(e,t)=>{var r=-1!==e.indexOf("safari-extension"),i=-1!==e.indexOf("safari-web-extension");return r||i?[-1!==e.indexOf("@")?e.split("@")[0]:n,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};e.chromeStackLineParser=s,e.defaultStackLineParsers=h,e.defaultStackParser=m,e.geckoStackLineParser=u,e.opera10StackLineParser=_,e.opera11StackLineParser=f,e.winjsStackLineParser=d})),Me=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=le(),r=0;function i(){r+=1,setTimeout((()=>{r-=1}))}e.ignoreNextOnError=i,e.shouldIgnoreOnError=function(){return r>0},e.wrap=function e(r,a={},s){if("function"!=typeof r)return r;try{var o=r.__sentry_wrapped__;if(o)return o;if(n.getOriginalFunction(r))return r}catch(e){return r}var l=function(){var o=Array.prototype.slice.call(arguments);try{s&&"function"==typeof s&&s.apply(this,arguments);var l=o.map((t=>e(t,a)));return r.apply(this,l)}catch(e){throw i(),t.withScope((r=>{r.addEventProcessor((e=>(a.mechanism&&(n.addExceptionTypeValue(e,void 0,void 0),n.addExceptionMechanism(e,a.mechanism)),e.extra=u(c({},e.extra),{arguments:o}),e))),t.captureException(e)})),e}};try{for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(l[d]=r[d])}catch(e){}n.markFunctionWrapped(l,r),n.addNonEnumerableProperty(r,"__sentry_wrapped__",l);try{Object.getOwnPropertyDescriptor(l,"name").configurable&&Object.defineProperty(l,"name",{get:()=>r.name})}catch(e){}return l}})),Ge=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=le(),r=De(),i=Me(),a=class{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=a.id}__init2(){this._installFunc={onerror:s,onunhandledrejection:o}}constructor(e){a.prototype.__init.call(this),a.prototype.__init2.call(this),this._options=c({onerror:!0,onunhandledrejection:!0},e)}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var t in e){var n=this._installFunc[t];n&&e[t]&&(l(t),n(),this._installFunc[t]=void 0)}}};function s(){n.addInstrumentationHandler("error",(e=>{let[t,s,o]=p();if(!t.getIntegration(a))return;let{msg:c,url:l,line:_,column:g,error:f}=e;if(!(i.shouldIgnoreOnError()||f&&f.__sentry_own_request__)){var h=void 0===f&&n.isString(c)?function(e,t,r,i){var a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=n.isErrorEvent(e)?e.message:e,o="Error";var c=s.match(a);return c&&(o=c[1],s=c[2]),u({exception:{values:[{type:o,value:s}]}},t,r,i)}(c,l,_,g):u(r.eventFromUnknownInput(s,f||c,void 0,o,!1),l,_,g);h.level="error",d(t,f,h,"onerror")}}))}function o(){n.addInstrumentationHandler("unhandledrejection",(e=>{let[t,s,o]=p();if(!t.getIntegration(a))return;let c=e;try{"reason"in e?c=e.reason:"detail"in e&&"reason"in e.detail&&(c=e.detail.reason)}catch(e){}if(i.shouldIgnoreOnError()||c&&c.__sentry_own_request__)return!0;var u=n.isPrimitive(c)?function(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}(c):r.eventFromUnknownInput(s,c,void 0,o,!0);u.level="error",d(t,c,u,"onunhandledrejection")}))}function u(e,t,r,i){var a=e.exception=e.exception||{},s=a.values=a.values||[],o=s[0]=s[0]||{},c=o.stacktrace=o.stacktrace||{},u=c.frames=c.frames||[],l=isNaN(parseInt(i,10))?void 0:i,d=isNaN(parseInt(r,10))?void 0:r,p=n.isString(t)&&t.length>0?t:n.getLocationHref();return 0===u.length&&u.push({colno:l,filename:p,function:"?",in_app:!0,lineno:d}),e}function l(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(`Global Handler attached: ${e}`)}function d(e,t,r,i){n.addExceptionMechanism(r,{handled:!1,type:i}),e.captureEvent(r,{originalException:t})}function p(){var e=t.getCurrentHub(),n=e.getClient(),r=n&&n.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,r.stackParser,r.attachStacktrace]}a.__initStatic(),e.GlobalHandlers=a})),Ue=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=Me(),r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=class{static __initStatic(){this.id="TryCatch"}__init(){this.name=i.id}constructor(e){i.prototype.__init.call(this),this._options=c({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}setupOnce(){var e=t.getGlobalObject();this._options.setTimeout&&t.fill(e,"setTimeout",a),this._options.setInterval&&t.fill(e,"setInterval",a),this._options.requestAnimationFrame&&t.fill(e,"requestAnimationFrame",s),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&t.fill(XMLHttpRequest.prototype,"send",o);var n=this._options.eventTarget;n&&(Array.isArray(n)?n:r).forEach(u)}};function a(e){return function(...r){var i=r[0];return r[0]=n.wrap(i,{mechanism:{data:{function:t.getFunctionName(e)},handled:!0,type:"instrument"}}),e.apply(this,r)}}function s(e){return function(r){return e.apply(this,[n.wrap(r,{mechanism:{data:{function:"requestAnimationFrame",handler:t.getFunctionName(e)},handled:!0,type:"instrument"}})])}}function o(e){return function(...r){var i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in i&&"function"==typeof i[e]&&t.fill(i,e,(function(r){var i={mechanism:{data:{function:e,handler:t.getFunctionName(r)},handled:!0,type:"instrument"}},a=t.getOriginalFunction(r);return a&&(i.mechanism.data.handler=t.getFunctionName(a)),n.wrap(r,i)}))})),e.apply(this,r)}}function u(e){var r=t.getGlobalObject(),i=r[e]&&r[e].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(t.fill(i,"addEventListener",(function(r){return function(i,a,s){try{"function"==typeof a.handleEvent&&(a.handleEvent=n.wrap(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:t.getFunctionName(a),target:e},handled:!0,type:"instrument"}}))}catch(e){}return r.apply(this,[i,n.wrap(a,{mechanism:{data:{function:"addEventListener",handler:t.getFunctionName(a),target:e},handled:!0,type:"instrument"}}),s])}})),t.fill(i,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{var a=i&&i.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(e){}return e.call(this,t,i,r)}})))}i.__initStatic(),e.TryCatch=i})),je=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=le(),r=De(),i=class{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=i.id}constructor(e={}){i.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){var e=t.getCurrentHub().getClient();e&&t.addGlobalEventProcessor(((n,r)=>{var s=t.getCurrentHub().getIntegration(i);return s?a(e.getOptions().stackParser,s._key,s._limit,n,r):n}))}};function a(e,t,r,i,a){if(!(i.exception&&i.exception.values&&a&&n.isInstanceOf(a.originalException,Error)))return i;var o=s(e,r,a.originalException,t);return i.exception.values=[...o,...i.exception.values],i}function s(e,t,i,a,o=[]){if(!n.isInstanceOf(i[a],Error)||o.length+1>=t)return o;var c=r.exceptionFromError(e,i[a]);return s(e,t,i[a],a,[c,...o])}i.__initStatic(),e.LinkedErrors=i,e._handler=a,e._walkErrorTree=s})),Ye=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=le().getGlobalObject(),r=class{constructor(){r.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=r.id}setupOnce(){t.addGlobalEventProcessor((e=>{if(t.getCurrentHub().getIntegration(r)){if(!n.navigator&&!n.location&&!n.document)return e;var i=e.request&&e.request.url||n.location&&n.location.href;let{referrer:t}=n.document||{},{userAgent:r}=n.navigator||{};var a=c(c(c({},e.request&&e.request.headers),t&&{Referer:t}),r&&{"User-Agent":r}),s=u(c({},i&&{url:i}),{headers:a});return u(c({},e),{request:s})}return e}))}};r.__initStatic(),e.HttpContext=r})),Le=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=class{constructor(){n.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=n.id}setupOnce(e,s){var o=e=>{var o=s().getIntegration(n);if(o){try{if(function(e,t){return!!t&&!(!function(e,t){var n=e.message,a=t.message;return!(!n&&!a||n&&!a||!n&&a||n!==a||!i(e,t)||!r(e,t))}(e,t)&&!function(e,t){var n=a(t),s=a(e);return!!(n&&s&&n.type===s.type&&n.value===s.value&&i(e,t)&&r(e,t))}(e,t))}(e,o._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return o._previousEvent=e}return o._previousEvent=e}return e};o.id=this.name,e(o)}};function r(e,t){let n=s(e),r=s(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let e=0;e<r.length;e++){var i=r[e],a=n[e];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function i(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch(e){return!1}}function a(e){return e.exception&&e.exception.values&&e.exception.values[0]}function s(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}n.__initStatic(),e.Dedupe=n})),Fe=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Ge(),n=Ue(),r=Ne(),i=je(),a=Ye(),s=Le();e.GlobalHandlers=t.GlobalHandlers,e.TryCatch=n.TryCatch,e.Breadcrumbs=r.Breadcrumbs,e.LinkedErrors=i.LinkedErrors,e.HttpContext=a.HttpContext,e.Dedupe=s.Dedupe})),He=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=le(),r=Ce(),i=Me();Fe();var a=Be();Ae();var s=Ue(),o=Ne(),l=Ge(),d=je(),p=Le(),_=Ye(),g=ke(),f=Ie(),h=[new t.Integrations.InboundFilters,new t.Integrations.FunctionToString,new s.TryCatch,new o.Breadcrumbs,new l.GlobalHandlers,new d.LinkedErrors,new p.Dedupe,new _.HttpContext];function m(e){e.startSession({ignoreDuration:!0}),e.captureSession()}e.close=function(e){var r=t.getCurrentHub().getClient();return r?r.close(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("Cannot flush events and disable SDK. No client defined."),n.resolvedSyncPromise(!1))},e.defaultIntegrations=h,e.flush=function(e){var r=t.getCurrentHub().getClient();return r?r.flush(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("Cannot flush events. No client defined."),n.resolvedSyncPromise(!1))},e.forceLoad=function(){},e.init=function(e={}){if(void 0===e.defaultIntegrations&&(e.defaultIntegrations=h),void 0===e.release){var i=n.getGlobalObject();i.SENTRY_RELEASE&&i.SENTRY_RELEASE.id&&(e.release=i.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);var s=u(c({},e),{stackParser:n.stackParserFromStackParserOptions(e.stackParser||a.defaultStackParser),integrations:t.getIntegrationsToSetup(e),transport:e.transport||(n.supportsFetch()?g.makeFetchTransport:f.makeXHRTransport)});t.initAndBind(r.BrowserClient,s),e.autoSessionTracking&&function(){if(void 0===n.getGlobalObject().document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var e=t.getCurrentHub();e.captureSession&&(m(e),n.addInstrumentationHandler("history",(({from:e,to:n})=>{void 0===e||e===n||m(t.getCurrentHub())})))}()},e.lastEventId=function(){return t.getCurrentHub().lastEventId()},e.onLoad=function(e){e()},e.showReportDialog=function(e={},r=t.getCurrentHub()){var i=n.getGlobalObject();if(!i.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("Global document not defined in showReportDialog call"));let{client:a,scope:s}=r.getStackTop();var o=e.dsn||a&&a.getDsn();if(o){s&&(e.user=c(c({},s.getUser()),e.user)),e.eventId||(e.eventId=r.lastEventId());var u=i.document.createElement("script");u.async=!0,u.src=t.getReportDialogEndpoint(o,e),e.onLoad&&(u.onload=e.onLoad);var l=i.document.head||i.document.body;l?l.appendChild(u):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("DSN not configured for showReportDialog call")},e.wrap=function(e){return i.wrap(e)()}})),$e=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=Ce();Ae();var r=Be(),i=He();Fe(),e.FunctionToString=t.FunctionToString,e.Hub=t.Hub,e.InboundFilters=t.InboundFilters,e.SDK_VERSION=t.SDK_VERSION,e.Scope=t.Scope,e.addBreadcrumb=t.addBreadcrumb,e.addGlobalEventProcessor=t.addGlobalEventProcessor,e.captureEvent=t.captureEvent,e.captureException=t.captureException,e.captureMessage=t.captureMessage,e.configureScope=t.configureScope,e.createTransport=t.createTransport,e.getCurrentHub=t.getCurrentHub,e.getHubFromCarrier=t.getHubFromCarrier,e.makeMain=t.makeMain,e.setContext=t.setContext,e.setExtra=t.setExtra,e.setExtras=t.setExtras,e.setTag=t.setTag,e.setTags=t.setTags,e.setUser=t.setUser,e.startTransaction=t.startTransaction,e.withScope=t.withScope,e.BrowserClient=n.BrowserClient,e.chromeStackLineParser=r.chromeStackLineParser,e.defaultStackLineParsers=r.defaultStackLineParsers,e.defaultStackParser=r.defaultStackParser,e.geckoStackLineParser=r.geckoStackLineParser,e.opera10StackLineParser=r.opera10StackLineParser,e.opera11StackLineParser=r.opera11StackLineParser,e.winjsStackLineParser=r.winjsStackLineParser,e.close=i.close,e.defaultIntegrations=i.defaultIntegrations,e.flush=i.flush,e.forceLoad=i.forceLoad,e.init=i.init,e.lastEventId=i.lastEventId,e.onLoad=i.onLoad,e.showReportDialog=i.showReportDialog,e.wrap=i.wrap})),qe=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),$e();var t=xe(),n=le(),r=Fe(),i=Ce(),a=ke(),s=Ie(),o=Be(),u=He(),l=Ge(),d=Ue(),p=Ne(),_=je(),g=Ye(),f=Le(),h={},m=n.getGlobalObject();m.Sentry&&m.Sentry.Integrations&&(h=m.Sentry.Integrations);var v=c(c(c({},h),t.Integrations),r);e.FunctionToString=t.FunctionToString,e.Hub=t.Hub,e.InboundFilters=t.InboundFilters,e.SDK_VERSION=t.SDK_VERSION,e.Scope=t.Scope,e.addBreadcrumb=t.addBreadcrumb,e.addGlobalEventProcessor=t.addGlobalEventProcessor,e.captureEvent=t.captureEvent,e.captureException=t.captureException,e.captureMessage=t.captureMessage,e.configureScope=t.configureScope,e.createTransport=t.createTransport,e.getCurrentHub=t.getCurrentHub,e.getHubFromCarrier=t.getHubFromCarrier,e.makeMain=t.makeMain,e.setContext=t.setContext,e.setExtra=t.setExtra,e.setExtras=t.setExtras,e.setTag=t.setTag,e.setTags=t.setTags,e.setUser=t.setUser,e.startTransaction=t.startTransaction,e.withScope=t.withScope,e.BrowserClient=i.BrowserClient,e.makeFetchTransport=a.makeFetchTransport,e.makeXHRTransport=s.makeXHRTransport,e.chromeStackLineParser=o.chromeStackLineParser,e.defaultStackLineParsers=o.defaultStackLineParsers,e.defaultStackParser=o.defaultStackParser,e.geckoStackLineParser=o.geckoStackLineParser,e.opera10StackLineParser=o.opera10StackLineParser,e.opera11StackLineParser=o.opera11StackLineParser,e.winjsStackLineParser=o.winjsStackLineParser,e.close=u.close,e.defaultIntegrations=u.defaultIntegrations,e.flush=u.flush,e.forceLoad=u.forceLoad,e.init=u.init,e.lastEventId=u.lastEventId,e.onLoad=u.onLoad,e.showReportDialog=u.showReportDialog,e.wrap=u.wrap,e.GlobalHandlers=l.GlobalHandlers,e.TryCatch=d.TryCatch,e.Breadcrumbs=p.Breadcrumbs,e.LinkedErrors=_.LinkedErrors,e.HttpContext=g.HttpContext,e.Dedupe=f.Dedupe,e.Integrations=v})),Ve=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=he(),n=le();e.TRACEPARENT_REGEXP=n.TRACEPARENT_REGEXP,e.extractTraceparentData=n.extractTraceparentData,e.stripUrlQueryAndFragment=n.stripUrlQueryAndFragment,e.getActiveTransaction=function(e){var n=(e||t.getCurrentHub()).getScope();return n&&n.getTransaction()},e.hasTracingEnabled=function(e){var n=t.getCurrentHub().getClient(),r=e||n&&n.getOptions();return!!r&&("tracesSampleRate"in r||"tracesSampler"in r)},e.msToSec=function(e){return e/1e3},e.secToMs=function(e){return 1e3*e}})),ze=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=Ve();function r(){var e=n.getActiveTransaction();if(e){var r="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] Transaction: ${r} -> Global error occured`),e.setStatus(r)}}e.registerErrorInstrumentation=function(){t.addInstrumentationHandler("error",r),t.addInstrumentationHandler("unhandledrejection",r)}})),We=d((e=>{var{_nullishCoalesce:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=le(),r=class{__init(){this.spans=[]}constructor(e=1e3){r.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},i=class{__init2(){this.traceId=n.uuid4()}__init3(){this.spanId=n.uuid4().substring(16)}__init4(){this.startTimestamp=n.timestampWithMs()}__init5(){this.tags={}}__init6(){this.data={}}constructor(e){if(i.prototype.__init2.call(this),i.prototype.__init3.call(this),i.prototype.__init4.call(this),i.prototype.__init5.call(this),i.prototype.__init6.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}startChild(e){var t=new i(u(c({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,t}setTag(e,t){return this.tags=u(c({},this.tags),{[e]:t}),this}setData(e,t){return this.data=u(c({},this.data),{[e]:t}),this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));var t=a(e);return"unknown_error"!==t&&this.setStatus(t),this}isSuccess(){return"ok"===this.status}finish(e){this.endTimestamp="number"==typeof e?e:n.timestampWithMs()}toTraceparent(){let e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return n.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=t(e.data,(()=>({}))),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=t(e.spanId,(()=>this.spanId)),this.startTimestamp=t(e.startTimestamp,(()=>this.startTimestamp)),this.status=e.status,this.tags=t(e.tags,(()=>({}))),this.traceId=t(e.traceId,(()=>this.traceId)),this}getTraceContext(){return n.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return n.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}};function a(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}e.Span=i,e.SpanRecorder=r,e.spanStatusfromHttpCode=a})),Ke=d((e=>{var{_nullishCoalesce:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=he(),r=le(),i=We(),a=class extends i.Span{__init(){this._measurements={}}constructor(e,t){super(e),a.prototype.__init.call(this),this._hub=t||n.getCurrentHub(),this._name=e.name||"",this.metadata=e.metadata||{},this._trimEnd=e.trimEnd,this.transaction=this}get name(){return this._name}set name(e){this._name=e,this.metadata.source="custom"}setName(e,t="custom"){this.name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new i.SpanRecorder(e)),this.spanRecorder.add(this)}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this.metadata=c(c({},this.metadata),e)}finish(e){if(void 0===this.endTimestamp){if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var t=this._hub.getClient();return void(t&&t.recordDroppedEvent("sample_rate","transaction"))}var n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);var i=this.metadata,a=c({contexts:{trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:u(c({},i),{baggage:this.getBaggage()})},i.source&&{transaction_info:{source:i.source}});return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(a)}}toContext(){var e=super.toContext();return r.dropUndefinedKeys(u(c({},e),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(e){return super.updateWithContext(e),this.name=t(e.name,(()=>"")),this._trimEnd=e.trimEnd,this}getBaggage(){var e=this.metadata.baggage,t=!e||r.isBaggageMutable(e)?this._populateBaggageWithSentryValues(e):e;return this.metadata.baggage=t,t}_populateBaggageWithSentryValues(e=r.createBaggage({})){var t=this._hub||n.getCurrentHub(),i=t&&t.getClient();if(!i)return e;let{environment:a,release:s}=i.getOptions()||{},{publicKey:o}=i.getDsn()||{};var u=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate,l=void 0!==u?u.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:16}):void 0,d=t.getScope();let{segment:p}=d&&d.getUser()||{};var _=this.metadata.source,g=_&&"url"!==_?this.name:void 0;return r.createBaggage(r.dropUndefinedKeys(c({environment:a,release:s,transaction:g,user_segment:p,public_key:o,trace_id:this.traceId,sample_rate:l},r.getSentryBaggageItems(e))),"",!1)}};e.Transaction=a})),Xe=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=We(),r=Ke(),i=class extends n.SpanRecorder{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=n=>{e.endTimestamp="number"==typeof n?n:t.timestampWithMs(),this._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),super.add(e)}},a=class extends r.Transaction{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,n,r=1e3,i=3e4,o=!1){super(e,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._onScope=o,a.prototype.__init.call(this),a.prototype.__init2.call(this),a.prototype.__init3.call(this),a.prototype.__init4.call(this),o&&(s(n),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope((e=>e.setSpan(this)))),this._startIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())}),this._finalTimeout)}finish(e=t.timestampWithMs()){if(this._finished=!0,this.activities={},this.spanRecorder){for(var n of(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op),this._beforeFinishCallbacks))n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=e,n.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));var r=n.startTimestamp<e;return r||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(n,void 0,2)),r})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&s(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){this.spanRecorder=new i((e=>{this._finished||this._pushActivity(e)}),(e=>{this._finished||this._popActivity(e)}),this.spanId,e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{!this._finished&&0===Object.keys(this.activities).length&&this.finish(e)}),this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] popActivity ${e}`),delete this.activities[e],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=t.timestampWithMs()+this._idleTimeout/1e3;this._startIdleTimeout(n)}}_beat(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),5e3)}};function s(e){var t=e.getScope();t&&(t.getTransaction()&&t.setSpan(void 0))}e.DEFAULT_FINAL_TIMEOUT=3e4,e.DEFAULT_IDLE_TIMEOUT=1e3,e.HEARTBEAT_INTERVAL=5e3,e.IdleTransaction=a,e.IdleTransactionSpanRecorder=i})),Je=d(((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=he(),r=le(),i=ze(),a=Xe(),s=Ke(),o=Ve();function u(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function l(e,t,n){if(!o.hasTracingEnabled(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({transactionSampling:{method:"explicitly_set"}}),e;let i;return"function"==typeof t.tracesSampler?(i=t.tracesSampler(n),e.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(i)}})):void 0!==n.parentSampled?(i=n.parentSampled,e.setMetadata({transactionSampling:{method:"inheritance"}})):(i=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:"client_rate",rate:Number(i)}})),function(e){return r.isNaN(e)||"number"!=typeof e&&"boolean"!=typeof e?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}(i)?i?(e.sampled=Math.random()<i,e.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),e)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function d(e,t){var n=this.getClient(),r=n&&n.getOptions()||{};let i=new s.Transaction(e,this);return i=l(i,r,c({parentSampled:e.parentSampled,transactionContext:e},t)),i.sampled&&i.initSpanRecorder(r._experiments&&r._experiments.maxSpans),i}function p(){var e=n.getMainCarrier();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=d),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=u))}e._addTracingExtensions=p,e.addExtensionMethods=function(){p(),r.isNodeEnv()&&function(){var e=n.getMainCarrier();if(e.__SENTRY__){var i={mongodb:()=>new(r.dynamicRequire(t,"./integrations/node/mongo").Mongo),mongoose:()=>new(r.dynamicRequire(t,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new(r.dynamicRequire(t,"./integrations/node/mysql").Mysql),pg:()=>new(r.dynamicRequire(t,"./integrations/node/postgres").Postgres)},a=Object.keys(i).filter((e=>!!r.loadModule(e))).map((e=>{try{return i[e]()}catch(e){return}})).filter((e=>e));a.length>0&&(e.__SENTRY__.integrations=[...e.__SENTRY__.integrations||[],...a])}}(),i.registerErrorInstrumentation()},e.startIdleTransaction=function(e,t,n,r,i,s){var o=e.getClient(),u=o&&o.getOptions()||{};let d=new a.IdleTransaction(t,e,n,r,i);return d=l(d,u,c({parentSampled:t.parentSampled,transactionContext:t},s)),d.sampled&&d.initSpanRecorder(u._experiments&&u._experiments.maxSpans),d}})),Qe=d((e=>{var{_optionalChain:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=le(),r=class{static __initStatic(){this.id="Express"}__init(){this.name=r.id}constructor(e={}){r.prototype.__init.call(this),this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(){this._router?function(e,t=[]){t.forEach((t=>function(e,t){var n=e[t];return e[t]=function(...e){return n.call(this,...function(e,t){return e.map((e=>"function"==typeof e?i(e,t):Array.isArray(e)?e.map((e=>"function"==typeof e?i(e,t):e)):e))}(e,t))},e}(e,t)))}(this._router,this._methods):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("ExpressIntegration is missing an Express instance")}};function i(e,n){var r=e.length;switch(r){case 2:return function(t,r){var i=r.__sentry_transaction;if(i){var a=i.startChild({description:e.name,op:`express.middleware.${n}`});r.once("finish",(()=>{a.finish()}))}return e.call(this,t,r)};case 3:return function(r,i,a){var s=i.__sentry_transaction,o=t([s,"optionalAccess",e=>e.startChild,"call",t=>t({description:e.name,op:`express.middleware.${n}`})]);e.call(this,r,i,(function(...e){t([o,"optionalAccess",e=>e.finish,"call",e=>e()]),a.call(this,...e)}))};case 4:return function(r,i,a,s){var o=a.__sentry_transaction,c=t([o,"optionalAccess",e=>e.startChild,"call",t=>t({description:e.name,op:`express.middleware.${n}`})]);e.call(this,r,i,a,(function(...e){t([c,"optionalAccess",e=>e.finish,"call",e=>e()]),s.call(this,...e)}))};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${r}`)}}r.__initStatic(),e.Express=r})),Ze=d((e=>{var{_optionalChain:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=le(),r=class{static __initStatic(){this.id="Postgres"}__init(){this.name=r.id}constructor(e={}){r.prototype.__init.call(this),this._usePgNative=!!e.usePgNative}setupOnce(e,r){var i=n.loadModule("pg");if(!i)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("Postgres Integration was unable to require `pg` package."));if(this._usePgNative&&!t([i,"access",e=>e.native,"optionalAccess",e=>e.Client]))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("Postgres Integration was unable to access 'pg-native' bindings."));let{Client:a}=this._usePgNative?i.native:i;n.fill(a.prototype,"query",(function(e){return function(i,a,s){var o=r().getScope(),c=t([o,"optionalAccess",e=>e.getSpan,"call",e=>e()]),u=t([c,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof i?i:i.text,op:"db"})]);if("function"==typeof s)return e.call(this,i,a,(function(e,n){t([u,"optionalAccess",e=>e.finish,"call",e=>e()]),s(e,n)}));if("function"==typeof a)return e.call(this,i,(function(e,n){t([u,"optionalAccess",e=>e.finish,"call",e=>e()]),a(e,n)}));var l=void 0!==a?e.call(this,i,a):e.call(this,i);return n.isThenable(l)?l.then((e=>(t([u,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(t([u,"optionalAccess",e=>e.finish,"call",e=>e()]),l)}}))}};r.__initStatic(),e.Postgres=r})),et=d((e=>{var{_optionalChain:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=le(),r=class{constructor(){r.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=r.id}setupOnce(e,r){var i=n.loadModule("mysql/lib/Connection.js");i?n.fill(i,"createQuery",(function(e){return function(n,i,a){var s=r().getScope(),o=t([s,"optionalAccess",e=>e.getSpan,"call",e=>e()]),c=t([o,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof n?n:n.sql,op:"db"})]);return"function"==typeof a?e.call(this,n,i,(function(e,n,r){t([c,"optionalAccess",e=>e.finish,"call",e=>e()]),a(e,n,r)})):"function"==typeof i?e.call(this,n,(function(e,n,r){t([c,"optionalAccess",e=>e.finish,"call",e=>e()]),i(e,n,r)})):e.call(this,n,i,a)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("Mysql Integration was unable to require `mysql` package.")}};r.__initStatic(),e.Mysql=r})),tt=d((e=>{var{_optionalChain:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=le(),r=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],i={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},a=class{static __initStatic(){this.id="Mongo"}__init(){this.name=a.id}constructor(e={}){a.prototype.__init.call(this),this._operations=Array.isArray(e.operations)?e.operations:r,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}setupOnce(e,t){var r=this._useMongoose?"mongoose":"mongodb",i=n.loadModule(r);i?this._instrumentOperations(i.Collection,this._operations,t):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error(`Mongo Integration was unable to require \`${r}\` package.`)}_instrumentOperations(e,t,n){t.forEach((t=>this._patchOperation(e,t,n)))}_patchOperation(e,r,i){if(r in e.prototype){var a=this._getSpanContextFromOperationArguments.bind(this);n.fill(e.prototype,r,(function(e){return function(...s){var o=s[s.length-1],c=i().getScope(),u=t([c,"optionalAccess",e=>e.getSpan,"call",e=>e()]);if("function"!=typeof o||"mapReduce"===r&&2===s.length){var l=t([u,"optionalAccess",e=>e.startChild,"call",e=>e(a(this,r,s))]),d=e.call(this,...s);return n.isThenable(d)?d.then((e=>(t([l,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(t([l,"optionalAccess",e=>e.finish,"call",e=>e()]),d)}l=t([u,"optionalAccess",e=>e.startChild,"call",e=>e(a(this,r,s.slice(0,-1)))]);return e.call(this,...s.slice(0,-1),(function(e,n){t([l,"optionalAccess",e=>e.finish,"call",e=>e()]),o(e,n)}))}}))}}_getSpanContextFromOperationArguments(e,t,n){var r={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},a={op:"db",description:t,data:r},s=i[t],o=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!s||!o)return a;try{if("mapReduce"===t){let[e,t]=n;r[s[0]]="string"==typeof e?e:e.name||"<anonymous>",r[s[1]]="string"==typeof t?t:t.name||"<anonymous>"}else for(let e=0;e<s.length;e++)r[s[e]]=JSON.stringify(n[e])}catch(e){}return a}};a.__initStatic(),e.Mongo=a})),nt=d((e=>{var{_optionalChain:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=le();var r=class{static __initStatic(){this.id="Prisma"}__init(){this.name=r.id}constructor(e={}){r.prototype.__init.call(this),function(e){return e&&!!e.$use}(e.client)?this._client=e.client:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(e.client)}`)}setupOnce(e,r){this._client?this._client.$use(((e,i)=>{var a=r().getScope(),s=t([a,"optionalAccess",e=>e.getSpan,"call",e=>e()]),o=e.action,c=e.model,u=t([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:c?`${c} ${o}`:o,op:"db.prisma"})]),l=i(e);return n.isThenable(l)?l.then((e=>(t([u,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(t([u,"optionalAccess",e=>e.finish,"call",e=>e()]),l)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error("PrismaIntegration is missing a Prisma Client Instance")}};r.__initStatic(),e.Prisma=r})),rt=d((e=>{var{_optionalChain:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=le(),r=class{constructor(){r.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=r.id}setupOnce(e,r){var i=n.loadModule("graphql/execution/execute.js");i?n.fill(i,"execute",(function(e){return function(...i){var a=r().getScope(),s=t([a,"optionalAccess",e=>e.getSpan,"call",e=>e()]),o=t([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:"execute",op:"db.graphql"})]);t([a,"optionalAccess",e=>e.setSpan,"call",e=>e(o)]);var c=e.call(this,...i);return n.isThenable(c)?c.then((e=>(t([o,"optionalAccess",e=>e.finish,"call",e=>e()]),t([a,"optionalAccess",e=>e.setSpan,"call",e=>e(s)]),e))):(t([o,"optionalAccess",e=>e.finish,"call",e=>e()]),t([a,"optionalAccess",e=>e.setSpan,"call",e=>e(s)]),c)}})):n.logger.error("GraphQL Integration was unable to require graphql/execution package.")}};r.__initStatic(),e.GraphQL=r})),it=d((e=>{var{_optionalChain:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=le(),r=class{constructor(){r.prototype.__init.call(this)}static __initStatic(){this.id="Apollo"}__init(){this.name=r.id}setupOnce(e,r){var i=n.loadModule("apollo-server-core");i?n.fill(i.ApolloServerBase.prototype,"constructSchema",(function(e){return function(){var i=Array.isArray(this.config.resolvers)?this.config.resolvers:[this.config.resolvers];return this.config.resolvers=i.map((e=>(Object.keys(e).forEach((i=>{Object.keys(e[i]).forEach((a=>{"function"==typeof e[i][a]&&function(e,r,i,a){n.fill(e[r],i,(function(e){return function(...s){var o=a().getScope(),c=t([o,"optionalAccess",e=>e.getSpan,"call",e=>e()]),u=t([c,"optionalAccess",e=>e.startChild,"call",e=>e({description:`${r}.${i}`,op:"db.graphql.apollo"})]),l=e.call(this,...s);return n.isThenable(l)?l.then((e=>(t([u,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(t([u,"optionalAccess",e=>e.finish,"call",e=>e()]),l)}}))}(e,i,a,r)}))})),e))),e.call(this)}})):n.logger.error("Apollo Integration was unable to require apollo-server-core package.")}};r.__initStatic(),e.Apollo=r})),at=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=Ve(),r=t.getGlobalObject();e.registerBackgroundTabDetection=function(){r&&r.document?r.document.addEventListener("visibilitychange",(()=>{var e=n.getActiveTransaction();if(r.document.hidden&&e){var i="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] Transaction: ${i} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(i),e.setTag("visibilitychange","document.hidden"),e.finish()}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}})),st=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});e.bindReporter=(e,t,n)=>{let r;return i=>{t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}}})),ot=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});e.generateUniqueID=()=>`v2-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`})),ct=d((e=>{var{_nullishCoalesce:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=ot();e.initMetric=(e,r)=>({name:e,value:t(r,(()=>-1)),delta:0,entries:[],id:n.generateUniqueID()})})),ut=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});e.observe=(e,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((e=>e.getEntries().map(t)));return n.observe({type:e,buffered:!0}),n}}catch(e){}}})),lt=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le();e.onHidden=(e,n)=>{var r=i=>{("pagehide"===i.type||"hidden"===t.getGlobalObject().document.visibilityState)&&(e(i),n&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)}})),dt=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=st(),n=ct(),r=ut(),i=lt();e.getCLS=(e,a)=>{var s=n.initMetric("CLS",0);let o,c=0,u=[];var l=e=>{if(e&&!e.hadRecentInput){var t=u[0],n=u[u.length-1];c&&0!==u.length&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(c+=e.value,u.push(e)):(c=e.value,u=[e]),c>s.value&&(s.value=c,s.entries=u,o&&o())}},d=r.observe("layout-shift",l);d&&(o=t.bindReporter(e,s,a),i.onHidden((()=>{d.takeRecords().map(l),o(!0)})))}})),pt=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=lt(),r=-1;e.getVisibilityWatcher=()=>(r<0&&(r="hidden"===t.getGlobalObject().document.visibilityState?0:1/0,n.onHidden((({timeStamp:e})=>{r=e}),!0)),{get firstHiddenTime(){return r}})})),_t=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=st(),n=pt(),r=ct(),i=ut(),a=lt();e.getFID=(e,s)=>{var o=n.getVisibilityWatcher(),c=r.initMetric("FID");let u;var l=e=>{u&&e.startTime<o.firstHiddenTime&&(c.value=e.processingStart-e.startTime,c.entries.push(e),u(!0))},d=i.observe("first-input",l);d&&(u=t.bindReporter(e,c,s),a.onHidden((()=>{d.takeRecords().map(l),d.disconnect()}),!0))}})),gt=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=st(),n=pt(),r=ct(),i=ut(),a=lt(),s={};e.getLCP=(e,o)=>{var c=n.getVisibilityWatcher(),u=r.initMetric("LCP");let l;var d=e=>{var t=e.startTime;t<c.firstHiddenTime&&(u.value=t,u.entries.push(e)),l&&l()},p=i.observe("largest-contentful-paint",d);if(p){l=t.bindReporter(e,u,o);var _=()=>{s[u.id]||(p.takeRecords().map(d),p.disconnect(),s[u.id]=!0,l(!0))};["keydown","click"].forEach((e=>{addEventListener(e,_,{once:!0,capture:!0})})),a.onHidden(_,!0)}}})),ft=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._startChild=function(e,t){var n=t,{startTimestamp:r}=n,o=((e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&i)for(var r of i(e))t.indexOf(r)<0&&s.call(e,r)&&(n[r]=e[r]);return n})(n,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild(c({startTimestamp:r},o))},e.isMeasurementValue=function(e){return"number"==typeof e&&isFinite(e)}})),ht=d((e=>{var{_nullishCoalesce:t}=V();Object.defineProperty(e,"__esModule",{value:!0});var n=le(),r=Ve(),i=dt(),a=_t(),s=gt(),o=pt(),c=ft(),u=n.getGlobalObject();function l(){return u&&u.addEventListener&&u.performance}var d,p,_=0,g={};function f(e,t,n,r,i){var a=i+n,s=a+r;return c._startChild(e,{description:t.name,endTimestamp:s,op:t.entryType,startTimestamp:a}),a}function h(e,n,i,a,s,o){var u=o?n[o]:n[`${i}End`],l=n[`${i}Start`];!l||!u||c._startChild(e,{op:"browser",description:t(s,(()=>i)),startTimestamp:a+r.msToSec(l),endTimestamp:a+r.msToSec(u)})}function m(e,t,n,r,i,a){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var s={};"transferSize"in t&&(s["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(s["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(s["Decoded Body Size"]=t.decodedBodySize);var o=a+r,u=o+i;c._startChild(e,{description:n,endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource",startTimestamp:o,data:s})}}e._addMeasureSpans=f,e._addResourceSpans=m,e.addPerformanceEntries=function(e){var t=l();if(!t||!u.performance.getEntries||!n.browserPerformanceTimeOrigin)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("[Tracing] Adding & adjusting spans using Performance API");var i=r.msToSec(n.browserPerformanceTimeOrigin),a=t.getEntries();let s,v;a.slice(_).forEach((t=>{var a=r.msToSec(t.startTime),l=r.msToSec(t.duration);if(!("navigation"===e.op&&i+a<e.startTimestamp))switch(t.entryType){case"navigation":(function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{h(e,t,r,n)})),h(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),h(e,t,"fetch",n,"cache","domainLookupStart"),h(e,t,"domainLookup",n,"DNS"),function(e,t,n){c._startChild(e,{op:"browser",description:"request",startTimestamp:n+r.msToSec(t.requestStart),endTimestamp:n+r.msToSec(t.responseEnd)}),c._startChild(e,{op:"browser",description:"response",startTimestamp:n+r.msToSec(t.responseStart),endTimestamp:n+r.msToSec(t.responseEnd)})}(e,t,n)})(e,t,i),s=i+r.msToSec(t.responseStart),v=i+r.msToSec(t.requestStart);break;case"mark":case"paint":case"measure":var d=f(e,t,a,l,i),p=o.getVisibilityWatcher(),_=t.startTime<p.firstHiddenTime;"first-paint"===t.name&&_&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("[Measurements] Adding FP"),g.fp={value:t.startTime,unit:"millisecond"},g["mark.fp"]={value:d,unit:"second"}),"first-contentful-paint"===t.name&&_&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("[Measurements] Adding FCP"),g.fcp={value:t.startTime,unit:"millisecond"},g["mark.fcp"]={value:d,unit:"second"});break;case"resource":var E=t.name.replace(u.location.origin,"");m(e,t,E,a,l,i)}})),_=Math.max(a.length-1,0),function(e){var t=u.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),c.isMeasurementValue(n.rtt)&&(g["connection.rtt"]={value:n.rtt,unit:"millisecond"}),c.isMeasurementValue(n.downlink)&&(g["connection.downlink"]={value:n.downlink,unit:""})),c.isMeasurementValue(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),c.isMeasurementValue(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}}(e),"pageload"===e.op&&("number"==typeof s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("[Measurements] Adding TTFB"),g.ttfb={value:1e3*(s-e.startTimestamp),unit:"millisecond"},"number"==typeof v&&v<=s&&(g["ttfb.requestTime"]={value:1e3*(s-v),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(g[t]&&!(i>=e.startTimestamp)){var a=g[t].value,s=i+r.msToSec(a),o=Math.abs(1e3*(s-e.startTimestamp)),c=o-a;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(`[Measurements] Normalized ${t} from ${a} to ${o} (${c})`),g[t].value=o}})),g["mark.fid"]&&g.fid&&c._startChild(e,{description:"first input delay",endTimestamp:g["mark.fid"].value+r.msToSec(g.fid.value),op:"web.vitals",startTimestamp:g["mark.fid"].value}),"fcp"in g||delete g.cls,Object.keys(g).forEach((t=>{e.setMeasurement(t,g[t].value,g[t].unit)})),function(e){d&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("[Measurements] Adding LCP Data"),d.element&&e.setTag("lcp.element",n.htmlTreeAsString(d.element)),d.id&&e.setTag("lcp.id",d.id),d.url&&e.setTag("lcp.url",d.url.trim().slice(0,200)),e.setTag("lcp.size",d.size)),p&&p.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("[Measurements] Adding CLS Data"),p.sources.forEach(((t,r)=>e.setTag(`cls.source.${r+1}`,n.htmlTreeAsString(t.node)))))}(e)),d=void 0,p=void 0,g={}},e.startTrackingWebVitals=function(e=!1){var t=l();t&&n.browserPerformanceTimeOrigin&&(t.mark&&u.performance.mark("sentry-tracing-init"),i.getCLS((e=>{var t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("[Measurements] Adding CLS"),g.cls={value:e.value,unit:""},p=t)})),function(e){s.getLCP((e=>{var t=e.entries.pop();if(t){var i=r.msToSec(n.browserPerformanceTimeOrigin),a=r.msToSec(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("[Measurements] Adding LCP"),g.lcp={value:e.value,unit:"millisecond"},g["mark.lcp"]={value:i+a,unit:"second"},d=t}}),e)}(e),a.getFID((e=>{var t=e.entries.pop();if(t){var i=r.msToSec(n.browserPerformanceTimeOrigin),a=r.msToSec(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log("[Measurements] Adding FID"),g.fid={value:e.value,unit:"millisecond"},g["mark.fid"]={value:i+a,unit:"second"}}})))}})),mt=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=Ve(),r=["localhost",/^\//],i={traceFetch:!0,traceXHR:!0,tracingOrigins:r};function a(e,r,i){if(n.hasTracingEnabled()&&e.fetchData&&r(e.fetchData.url)){if(e.endTimestamp){var a=e.fetchData.__span;if(!a)return;return void((o=i[a])&&(e.response?o.setHttpStatus(e.response.status):e.error&&o.setStatus("internal_error"),o.finish(),delete i[a]))}var s=n.getActiveTransaction();if(s){var o=s.startChild({data:u(c({},e.fetchData),{type:"fetch"}),description:`${e.fetchData.method} ${e.fetchData.url}`,op:"http.client"});e.fetchData.__span=o.spanId,i[o.spanId]=o;var l=e.args[0]=e.args[0],d=e.args[1]=e.args[1]||{};d.headers=function(e,n,r,i){let a=i.headers;if(t.isInstanceOf(e,Request)&&(a=e.headers),a)if("function"==typeof a.append)a.append("sentry-trace",r.toTraceparent()),a.append(t.BAGGAGE_HEADER_NAME,t.mergeAndSerializeBaggage(n,a.get(t.BAGGAGE_HEADER_NAME)));else if(Array.isArray(a)){let[,e]=a.find((([e,n])=>e===t.BAGGAGE_HEADER_NAME));a=[...a,["sentry-trace",r.toTraceparent()],[t.BAGGAGE_HEADER_NAME,t.mergeAndSerializeBaggage(n,e)]]}else a=u(c({},a),{"sentry-trace":r.toTraceparent(),baggage:t.mergeAndSerializeBaggage(n,a.baggage)});else a={"sentry-trace":r.toTraceparent(),baggage:t.mergeAndSerializeBaggage(n)};return a}(l,s.getBaggage(),o,d)}}}function s(e,r,i){if(!(!n.hasTracingEnabled()||e.xhr&&e.xhr.__sentry_own_request__)&&(e.xhr&&e.xhr.__sentry_xhr__&&r(e.xhr.__sentry_xhr__.url))){var a=e.xhr.__sentry_xhr__;if(e.endTimestamp){var s=e.xhr.__sentry_xhr_span_id__;if(!s)return;return void((l=i[s])&&(l.setHttpStatus(a.status_code),l.finish(),delete i[s]))}var o=n.getActiveTransaction();if(o){var l=o.startChild({data:u(c({},a.data),{type:"xhr",method:a.method,url:a.url}),description:`${a.method} ${a.url}`,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=l.spanId,i[e.xhr.__sentry_xhr_span_id__]=l,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",l.toTraceparent());var d=e.xhr.getRequestHeader&&e.xhr.getRequestHeader(t.BAGGAGE_HEADER_NAME);e.xhr.setRequestHeader(t.BAGGAGE_HEADER_NAME,t.mergeAndSerializeBaggage(o.getBaggage(),d))}catch(e){}}}}e.DEFAULT_TRACING_ORIGINS=r,e.defaultRequestInstrumentationOptions=i,e.fetchCallback=a,e.instrumentOutgoingRequests=function(e){let{traceFetch:n,traceXHR:r,tracingOrigins:o,shouldCreateSpanForRequest:u}=c(c({},i),e);var l={},d=e=>{if(l[e])return l[e];var n=o;return l[e]=n.some((n=>t.isMatchingPattern(e,n)))&&!t.isMatchingPattern(e,"sentry_key"),l[e]};let p=d;"function"==typeof u&&(p=e=>d(e)&&u(e));var _={};n&&t.addInstrumentationHandler("fetch",(e=>{a(e,p,_)})),r&&t.addInstrumentationHandler("xhr",(e=>{s(e,p,_)}))},e.xhrCallback=s})),vt=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=t.getGlobalObject();e.instrumentRoutingWithDefaults=function(e,r=!0,i=!0){if(!n||!n.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("Could not initialize routing instrumentation due to invalid location"));let a,s=n.location.href;r&&(a=e({name:n.location.pathname,op:"pageload",metadata:{source:"url"}})),i&&t.addInstrumentationHandler("history",(({to:r,from:i})=>{void 0===i&&s&&-1!==s.indexOf(r)?s=void 0:i!==r&&(s=void 0,a&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] Finishing current transaction with op: ${a.op}`),a.finish()),a=e({name:n.location.pathname,op:"navigation",metadata:{source:"url"}}))}))}})),Et=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=le(),n=Je(),r=Xe();Ve();var i=at(),a=ht(),s=mt(),o=vt(),l="BrowserTracing",d=c({idleTimeout:r.DEFAULT_IDLE_TIMEOUT,finalTimeout:r.DEFAULT_FINAL_TIMEOUT,markBackgroundTransactions:!0,routingInstrumentation:o.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},s.defaultRequestInstrumentationOptions),p=class{__init(){this.name=l}constructor(e){p.prototype.__init.call(this);let t=s.defaultRequestInstrumentationOptions.tracingOrigins;e&&(e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?t=e.tracingOrigins:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options=u(c(c({},d),e),{tracingOrigins:t});let{_metricOptions:n}=this.options;a.startTrackingWebVitals(n&&n._reportAllChanges)}setupOnce(e,n){this._getCurrentHub=n,this._emitOptionsWarning&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`[Tracing] We added a reasonable default for you: ${s.defaultRequestInstrumentationOptions.tracingOrigins}`));let{routingInstrumentation:r,startTransactionOnLocationChange:a,startTransactionOnPageLoad:o,markBackgroundTransactions:c,traceFetch:u,traceXHR:l,tracingOrigins:d,shouldCreateSpanForRequest:p}=this.options;r((e=>this._createRouteTransaction(e)),o,a),c&&i.registerBackgroundTabDetection(),s.instrumentOutgoingRequests({traceFetch:u,traceXHR:l,tracingOrigins:d,shouldCreateSpanForRequest:p})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));let{beforeNavigate:r,idleTimeout:i,finalTimeout:s}=this.options;var o="pageload"===e.op?_():void 0,l=u(c(c(c({},e),o),o&&{metadata:c(c({},e.metadata),o.metadata)}),{trimEnd:!0}),d="function"==typeof r?r(l):l,p=void 0===d?u(c({},l),{sampled:!1}):d;p.metadata=p.name!==l.name?u(c({},p.metadata),{source:"custom"}):p.metadata,!1===p.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] Will not send ${p.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] Starting ${p.op} transaction on scope`);var g=this._getCurrentHub();let{location:f}=t.getGlobalObject();var h=n.startIdleTransaction(g,p,i,s,!0,{location:f});return h.registerBeforeFinishCallback((e=>{a.addPerformanceEntries(e),e.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))})),h}};function _(){var e=g("sentry-trace"),n=g("baggage"),r=e?t.extractTraceparentData(e):void 0,i=t.parseBaggageSetMutability(n,e);if(r||i)return c(c({},r&&r),i&&{metadata:{baggage:i}})}function g(e){var n=t.getGlobalObject();if(n.document&&n.document.querySelector){var r=n.document.querySelector(`meta[name=${e}]`);return r?r.getAttribute("content"):null}return null}e.BROWSER_TRACING_INTEGRATION_ID=l,e.BrowserTracing=p,e.extractTraceDataFromMetaTags=_,e.getMetaContent=g})),yt=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Et(),n=mt();e.BROWSER_TRACING_INTEGRATION_ID=t.BROWSER_TRACING_INTEGRATION_ID,e.BrowserTracing=t.BrowserTracing,e.defaultRequestInstrumentationOptions=n.defaultRequestInstrumentationOptions,e.instrumentOutgoingRequests=n.instrumentOutgoingRequests})),St=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Qe(),n=Ze(),r=et(),i=tt(),a=nt(),s=rt(),o=it();yt();var c=Et();e.Express=t.Express,e.Postgres=n.Postgres,e.Mysql=r.Mysql,e.Mongo=i.Mongo,e.Prisma=a.Prisma,e.GraphQL=s.GraphQL,e.Apollo=o.Apollo,e.BrowserTracing=c.BrowserTracing})),bt=d((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatus=void 0,function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(e.SpanStatus||(e.SpanStatus={}))})),Tt=d((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Je(),n=St();yt();var r=We(),i=bt(),a=Ke(),s=Xe(),o=Ve(),c=Et(),u=mt(),l=le();("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&t.addExtensionMethods(),e.addExtensionMethods=t.addExtensionMethods,e.startIdleTransaction=t.startIdleTransaction,e.Integrations=n,e.Span=r.Span,e.spanStatusfromHttpCode=r.spanStatusfromHttpCode,Object.defineProperty(e,"SpanStatus",{enumerable:!0,get:()=>i.SpanStatus}),e.Transaction=a.Transaction,e.IdleTransaction=s.IdleTransaction,e.getActiveTransaction=o.getActiveTransaction,e.hasTracingEnabled=o.hasTracingEnabled,e.BROWSER_TRACING_INTEGRATION_ID=c.BROWSER_TRACING_INTEGRATION_ID,e.BrowserTracing=c.BrowserTracing,e.defaultRequestInstrumentationOptions=u.defaultRequestInstrumentationOptions,e.instrumentOutgoingRequests=u.instrumentOutgoingRequests,e.TRACEPARENT_REGEXP=l.TRACEPARENT_REGEXP,e.extractTraceparentData=l.extractTraceparentData,e.stripUrlQueryAndFragment=l.stripUrlQueryAndFragment})),Rt=d(((e,t)=>{var n=qe(),{BrowserTracing:r}=Tt(),i=_(),a=l("hermes-core/flog")("sentry");t.exports=new class{constructor(){a.info("Sentry constructor")}init(){a.info("Sentry initializing"),n.init({dsn:i.sentry_dsn,integrations:[new r],tracesSampleRate:1})}captureSentryError(e,t){t&&"string"==typeof t&&n.addBreadcrumb({category:"client-app",message:t,level:"info"}),e&&e instanceof Error&&n.captureException(e)}}}));YUI.add("client-app",(function(e,t){let n=b();var r,i,a=l("hermes-core/flog")(t),s=!1,o=e.config.flickr.clientNavEnabled,c=!1;function u(){o=!1}function d(t){var n,r,i=window.location,a=window.history,s=!1;if(i.search&&a.replaceState&&(n=e.QueryString.parse(i.search.replace("?","")),t.forEach((function(e){e in n&&(delete n[e],s=!0)})),s)){r=e.QueryString.stringify(n);try{a.replaceState({},"",i.pathname+(r?"?"+r:""))}catch(e){}}}function p(e,t){return new t.Promise((function(n,r){t.use(e,(function(e,t){t&&"success"in t?t.success?n(e):r(t.msg):r("Y.use: no status provided")}))}))}function _(t){var n,i,a,s,o=[],c=["flickr.photos.addView","flickr.groups.updateViewDate","flickr.photos.getPhotos","flickr.people.addView","flickr.photosets.addView"];if(r.getViewCounter().flushQueue(),r.uploadIsInProgress())s=this.intlMessage({intlName:"client-app.UPLOAD_IN_PROGRESS"});else{for(n in r.writeAPICallsMadeOnThisPage)(i=r.writeAPICallsMadeOnThisPage[n]).completed||o.push(i);o.length&&(o.every((function(e){return-1!==c.indexOf(e.methodName)}))||(e.config.flickr.requestConfig&&e.config.flickr.requestConfig.auth&&e.config.flickr.requestConfig.auth.isPossiblyAdminUser?(a=o.map((function(e){return e.methodName})).join(", "),s=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})+" In progress API Methods: "+a):s=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})))}return e.Storage.Instance.clear(),s&&((t||window.event).returnValue=s),s}function g(t){if(!o)return window.location=t.url,void t.halt();r.setClientSideRouted(!0),r.setPreviousLocation(),r.updateModelRefetchState(t.url,t.originEvent&&t.originEvent.currentTarget&&t.originEvent.currentTarget.hasClass("do-not-evict")),r.clearWriteAPICallCache(),r.setGPCredentials(null),e.fire("loader:start"),r.adManager.isEnabled()&&r.adManager.currentlyShowingAd&&r.adManager.adIsUnloading(),r.flipper.isFlipped("enable-photopage-sidebar")||r.adManager.destroyAdUnitsOnPage(),r.getKeyboardManager().resetCurrentKeyEventScope(),e.Object.each(r.modelRegistries,(function(e,t){e.hasWeakSubscribers&&e.removeWeakSubscribers()})),s=!0}function f(){e.UA.chrome>0&&(window.scrollTo(window.scrollX,window.scrollY+1),window.scrollTo(window.scrollX,window.scrollY-1))}function h(t){e.Object.each(r.modelRegistries,(function(e,t){e.hasWeakSubscribers&&e.removeWeakSubscribers()})),e.fire("close-dialogs"),"popstate"===t.src&&f(),"popstate"===t.src&&!i.hasRoute(i.getPath())&&!e.Object.isEmpty(t.newVal)&&i.navigate(i.getPath()),r.getViewCounter().flushQueue({resetDuplicateTracking:!0}),s||r.updateModelRefetchState(),s=!1}function m(t){r.flipper.isFlipped("enable-photopage-sidebar")&&r.adManager.destroyAdUnitsOnPage(),i.set("previousView",t.prevVal),e.fire("loader:beforeActiveViewChange")}function v(t){var n=this.get("activeView");if(void 0===n.getViewDataFromHistory("referrer")&&n.setViewDataOnHistory("referrer",r.getPreviousURL()),r.dataLayer.updateDataLayer(),e.Snowplough&&e.Snowplough.sendPageView(n),e.DeferImages.update(),r.adManager.detachedAdUnitCompatibleViews.includes(n.name)||r.adManager.setAdCouldBeShown(!1),e.config.win.onappclientnav)try{e.config.win.onappclientnav()}catch(e){}e.Accessibility.manageFocusOutlines(n),void 0!==window._sift&&window._sift.push&&window._sift.push(["_trackPageview"]),c&&r.requiresCookieConsent&&E(),window.addEventListener("message",(function(e){"flickr:CMPframed"===e.data&&(c=!0,r.requiresCookieConsent&&E())})),r.trustarcConsentManager&&(r.trustarcConsentManager.reset(),r.trustarcConsentManager.load())}function E(){window.__tcfapi&&window.__tcfapi("ping",2,(function(t){t.cmpLoaded||(a.info("CMP Loaded value is false"),e.Snowplough&&e.Snowplough.sendStructuredEvent({category:"cookie_consent",action:"consent_issue",label:"cmpLoaded undefined"}))}))}function y(t){return new e.Promise((function(n,s){var o=setTimeout((function(){s(new Error("Initial View Timeout"))}),12e3);t.params.appContext=r,i.showContent(e.one("#content > .view"),{view:{name:t.name,config:t.params}},(function(t){t._params&&(t._params.keyEventScope=t.name+t._yuid),t.setViewDataOnHistory("referrer",document.referrer),t.set("isRootView",!0),r.dataLayer.updateDataLayer(),t.initialize().then((function(){e.Snowplough&&(e.Snowplough.setUserId(),e.Snowplough.sendPageView(t)),r.getKeyboardManager().setCurrentKeyEventScope(t.name+t._yuid),f(),e.DeferImages.init(),e.Accessibility.manageFocusOutlines(t),d(["campaignID","linkID"]),function(){if(e.config.flickr.requestConfig&&e.config.flickr.requestConfig.auth&&e.config.flickr.requestConfig.auth.isPossiblyAdminUser){var t=e.all("[data-view-signature]");t.size()&&a.warn("View signature mismatches detected! A view likely modified the `params` object directly.",{views:t.getDOMNodes()})}}(),clearTimeout(o),n()})).then(null,(function(e){throw a.error("There was a problem initializing or activating the view.",{err:e}),s(),e})),c&&r.requiresCookieConsent&&E(),window.addEventListener("message",(function(e){"flickr:CMPframed"===e.data&&(c=!0,r.requiresCookieConsent&&E())}))})),i.before("navigate",g),i.before("activeViewChange",m),e.on("history:change",h),i.after("activeViewChange",v)}))}function S(t,a,s,o){var c={};if(e.Views&&e.Views[t]&&(c[t]={type:e.Views[t],preserve:!1}),i=new e.App({serverRouting:!0,viewContainer:"#content",container:"#content",linkSelector:":not(.server-only-link):not([target=_blank])",scrollToTop:!1,views:c}),new n(i,e.config.flickr.routes,{onRender:function(){e.fire("loader:progress")},onViewLoaded:function(){e.fire("loader:progress")},onViewInitialized:function(){e.fire("loader:progress")},onFinished:function(){e.fire("loader:finish")}}),o.auth=a,o.flapp=i,r=function(t){return window.appContext=new e.AppContext(t),window.appContext}(o),r.routeTiming=o.routeTiming,r.routeConfig=o.routeConfig,e.mix(e.Node.DOM_EVENTS,{transitionend:!0,webkitTransitionEnd:!0}),a&&a.user&&a.user.ispro||e.use("prbd"),e.ClientTransport.authorize(r),window.snowplough=e.Snowplough,window.addEventListener("unload",(function(t){e.ClientTransport.unloading=!0})),window.addEventListener("load",(function(t){e.ClientTransport.unloading=!1})),r.adManager.detectAdBlocker(),r.trustarcConsentManager&&r.trustarcConsentManager.load(),r.flipper.isFlipped("enable-sentry-logging")){let t=Rt();t.init(),e.Sentry=t}return r.modelImportExport.importAll(s)}e.ClientApp={init:function(t){if(void 0===t)return e.Promise.reject({message:"Invalid config object supplied, was undefined."});var n,i,a=t.initialView,s=t.modelExport,o=t.auth,c=this;return o||u(),n=o&&t.auth.signedIn?t.auth.csrf:null,e.config.flickr.csrf.token=n,e.config.flickr.requestConfig={auth:o},t.params.routeTiming=t.routeTiming,t.params.routeConfig=t.routeConfig,d(e.config.flickr.routing_params),window.location.search&&window.location.search.match(/yc=/)&&(i=e.QueryString.parse(window.location.search.replace("?","")),e.config.flickr.ycParam=i.yc),e.transportFactory=function(t,n){return new e.ClientTransport(n)},p(a.name,e).then((function(){return S(a.name,o,s,t.params)})).then((function(){return y(a)})).then((function(){(function(){var t=e.one("link#rollup-css");t?t.get("sheet")?(r.isCSSLoaded=!0,e.fire("css-loaded")):t.once("load",(function(){r.isCSSLoaded=!0,e.fire("css-loaded")})):(r.isCSSLoaded=!0,e.fire("css-loaded"))})(),e.AnchorRepositioner.jumpTo(),e.config.win.addEventListener("beforeunload",_.bind(c))})).then(e.config.win.onappinit)},beforeUnload:_,beforeNavigate:g,_loadInitialView:p,langBundles:["client-app"],disableClientNav:u,getScrollSection:function t(n,r,i){var a=e.one(document.elementFromPoint(r,i)),s=a.ancestor("[data-scroll-section]",!0);if(s)return s.getAttribute("data-scroll-section");var o,c=a.ancestor(".view",!0);if(c){if((o=c.getAttribute("class").match(/[\S]+-view/)[0])===n.name&&r===window.innerWidth/2){var u=t(n,r/2,i);return u!==n.name?u:t(n,r+r/2,i)}return o}}},e.rapidTracker={beacon:function(){}},e.mix(e.ClientApp,e.Localizable)}),"0.0.1",{requires:["hermes-core","app-base","app-content","router","app-context","client-transport","handlebars-helpers","loader-bar","murmurhash","node","site-key","flickr-promise","global-events","querystring-parse-simple","querystring-stringify-simple","storage-helper","keyboard-manager","dom","overflow-helper","defer-images","accessibility","anchor-repositioner","atics","snowplough"],affinity:"client",langBundles:["client-app"]})})();