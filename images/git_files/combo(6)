YUI.add("experiments-fullscreen",(function(e){var t;(t=function(e){this.flipper=e.flipper,this.appContext=e}).prototype.disableRealFullscreenButtons=function(){return!this.mode},t.prototype.getMode=function(){return this.mode},t.prototype.enableFullscreen=function(){this.mode=!0},t.prototype.disableFullscreen=function(){this.mode=!1},e.namespace("Experiments").Fullscreen=t}),"@VERSION@",{requires:[]});YUI.add("experiments-opt-out",(function(t,e){var p,i=require("hermes-core/flog")(e);(p=function(t){this.appContext=t,this.optOutEnabled=void 0}).prototype.enabled=function(){var t=this.appContext.flipper.isFlipped("reboot_photo_page_optin_type");if(void 0===this.optOutEnabled){if(!this.appContext.flipper.isFlipped("buckets"))return this.optOutEnabled=!0,i.log("Buckets not flipped; optOutEnabled is true"),this.optOutEnabled;switch(t){case"optin":default:this.optOutEnabled=!0;break;case"forced_in":this.optOutEnabled=!1}}return this.optOutEnabled},t.namespace("Experiments").OptOut=p}),"@VERSION@",{requires:[],optionalRequires:["hermes-core"]});YUI.add("murmurhash",(function(h){h.murmurhash=function(h,r){var a,e,t,c,o,d,n,u;for(a=3&h.length,e=h.length-a,t=r,o=3432918353,d=461845907,u=0;u<e;)n=255&h.charCodeAt(u)|(255&h.charCodeAt(++u))<<8|(255&h.charCodeAt(++u))<<16|(255&h.charCodeAt(++u))<<24,++u,t=27492+(65535&(c=5*(65535&(t=(t^=n=(65535&(n=(n=(65535&n)*o+(((n>>>16)*o&65535)<<16)&4294967295)<<15|n>>>17))*d+(((n>>>16)*d&65535)<<16)&4294967295)<<13|t>>>19))+((5*(t>>>16)&65535)<<16)&4294967295))+((58964+(c>>>16)&65535)<<16);switch(n=0,a){case 3:n^=(255&h.charCodeAt(u+2))<<16;case 2:n^=(255&h.charCodeAt(u+1))<<8;case 1:t^=n=(65535&(n=(n=(65535&(n^=255&h.charCodeAt(u)))*o+(((n>>>16)*o&65535)<<16)&4294967295)<<15|n>>>17))*d+(((n>>>16)*d&65535)<<16)&4294967295}return t^=h.length,t=2246822507*(65535&(t^=t>>>16))+((2246822507*(t>>>16)&65535)<<16)&4294967295,t=3266489909*(65535&(t^=t>>>13))+((3266489909*(t>>>16)&65535)<<16)&4294967295,(t^=t>>>16)>>>0}}),"@VERSION@");YUI.add("moola-manager",(function(e,t){"use strict";var i=require("hermes-core/flog")(t);class n{constructor(t,n){this.initialAdShown=!1,this.adCouldBeShown=!1,this.dwellTime=0,this.contextOwnerIsPro=!1,this.origin={},this.context={},this.timeoutID=0,this.adCallsCounter=0,this.currentlyShowingAd=!1,this.adPosition=1,this.viewerCanSeeAds=null,this.detachedAdUnitCompatibleViews=["photo-page-scrappy-view"],this.infolinksScriptSource=e.config.flickr.moola.vendors.infolinks.scriptSource,this.infolinksPid=e.config.flickr.moola.vendors.infolinks.pid,this.infolinksWsid=e.config.flickr.moola.vendors.infolinks.wsid,this.infolinksIdName=e.config.flickr.moola.vendors.infolinks.idName,this.infolinksClassName=e.config.flickr.moola.vendors.infolinks.className,this.infolinksTestPid=e.config.flickr.moola.vendors.infolinks_test.pid,t&&n?(this.referrer=t,this.appContext=n):i.error("Attempt to instantiate moola-manager without appContext/referrer")}getAdsSlotsOnPage(){return document.querySelectorAll(".moola-container")}setAdViewStatus(){this.viewerCanSeeAds=!(this.appContext.forceServerRender||this.appContext.flipper.isFlipped("moola_killswitch")||this.appContext.getViewer().signedIn&&this.appContext.getViewer().isPro)}markAdAsSeen(){this.initialAdShown=!0,this.resetPhotoAdsCounter(),this.adCallsCounter--}adIsUnloading(){clearTimeout(this.timeoutID),this.currentlyShowingAd=!1}adIsLoading(){this.currentlyShowingAd=!0}isEnabled(){return null===this.viewerCanSeeAds&&this.setAdViewStatus(),this.viewerCanSeeAds}adNext(){var t,i,n,o,s,a;return!(YUI.Env.isServer||!this.context.current)&&(this.adPosition++,t=this.isEnabled(),i=this.adCouldBeShown,o=this.enoughPhotoViewsAccrued(),n=this.contextOwnerIsPro,s=this.adjacentPhotosAreAdFriendly(),a=this.referrerIsDenied(),t&&i&&o&&!n&&s&&!a&&e.rapidTracker.beacon(this.name,"adSlotAvailable"),t&&i&&!n&&o&&s&&!a)}resetPhotoAdsCounter(){this.appContext.cookieCatcher.setCookieIfAllowed("adCounter",0,{path:"/",domain:"flickr.com"})}enoughPhotoViewsAccrued(){var t=e.Cookie.get("adCounter",Number);return(t=t||0)>=this.getThreshold()}adjacentPhotosAreAdFriendly(){return"next"===this.origin.arrow?this.context.next.adFriendly&&this.context.current.adFriendly:this.context.previous.adFriendly&&this.context.current.adFriendly}referrerIsDenied(){var e=[];return this.appContext.getViewer().signedIn||e.push("/"),e.indexOf(this.appContext.getPreviousURL())>-1}setAdCouldBeShown(e,t,n){void 0===e&&(e=!1),t&&n?(this.origin.arrow=t,this.origin.url=n):e&&(i.info("Attempt to schedule an ad without setting nav direction or URL"),e=!1),this.adCouldBeShown=e}updateContext(t){var i;this.contextOwnerIsPro=!1,(-1!==e.Array.indexOf(["photostream-models","set-models","photoList-models","feed-batch-models"],t.type)||/^\/search\/\?.+=[0-9]+@N[0-9]{2}.*/.test(t.entryURL))&&(i=t.current.getValue("owner"))&&(this.contextOwnerIsPro=i.getValue("isPro")),this.context.previous=this.extractKeyDataFromPhotoModel(t.prev),this.context.current=this.extractKeyDataFromPhotoModel(t.current),this.context.next=this.extractKeyDataFromPhotoModel(t.next)}getThreshold(){var t;try{t=this.initialAdShown?e.config.flickr.moola.threshold[this.referrer].subsequent:e.config.flickr.moola.threshold[this.referrer].initial}catch(e){i.info("There is no matching value for referrer in the ad/referrer config",{referrer:this.referrer,err:e}),t=100}return t}updatePhotoAdsCounter(){var t=e.Cookie.get("adCounter",Number);return t=t||0,this.appContext.cookieCatcher.setCookieIfAllowed("adCounter",++t,{path:"/",domain:"flickr.com"}),t}extractKeyDataFromPhotoModel(e){var t={};return e&&(t={adFriendly:0===e.getValue("safetyLevel"),url:this.getBackgroundImage(e),link:e.getValue("url")}),t}getBackgroundImage(e){var t,i,n,o=40;return t={width:101*(i=this.appContext.getViewer().getPixelRatio()),height:o*i},n={cropToFit:!0,includeSizes:["sq","t","q","s","n"]},e.getSizeToFit(t,n).url}handleInfolinks(e,t){var i=this.appContext.viewportData.getWidth();t||i<735||this.appContext.getViewer().isPro||e?this.stopInfolinksAdUnit():this.injectInfolinksAdUnit()}injectInfolinksAdUnit(){if(this.infolinksActiveOnPage()||this.infolinksScriptOnPage())window.postMessage(JSON.stringify({message:"RESTORE",apiK:"lJKHQWQlPm"}),"*");else{let e;this.appContext.flipper.isFlipped("enable-infolinks-new-unit-testing")?window.infolinks_pid=this.infolinksTestPid:window.infolinks_pid=this.infolinksPid,window.infolinks_wsid=this.infolinksWsid,e=document.createElement("script"),e.src=this.infolinksScriptSource,e.type="text/javascript",e.classList.add(this.infolinksClassName),e.async=!0,document.body.appendChild(e)}e.Snowplough.sendStructuredEvent({category:"ad",action:"ad_request",label:"infolinks",property:"sticky"}),this.oneSecondTimer&&clearTimeout(this.oneSecondTimer),this.oneSecondTimer=setTimeout((function(){e.Snowplough.sendStructuredEvent({category:"ad",action:"ad_request_timer",label:"infolinks",property:"sticky",value:1})}),1e3),this.twoSecondsTimer&&clearTimeout(this.twoSecondsTimer),this.twoSecondsTimer=setTimeout((function(){e.Snowplough.sendStructuredEvent({category:"ad",action:"ad_request_timer",label:"infolinks",property:"sticky",value:2})}),2e3)}injectStickyAdUnit(){}destroyStickyAdUnit(){}infolinksActiveOnPage(){var e="#"+this.infolinksIdName;return!!document.querySelector(e)}infolinksScriptOnPage(){var e="."+this.infolinksClassName;return!!document.querySelector(e)}stopInfolinksAdUnit(){this.infolinksActiveOnPage()&&(window.postMessage(JSON.stringify({message:"DESTROY",apiK:"lJKHQWQlPm"}),"*"),this.oneSecondTimer&&clearTimeout(this.oneSecondTimer),this.twoSecondsTimer&&clearTimeout(this.twoSecondsTimer))}clearInfolinksUnitReposition(){e.one(".flickr-infolinks-container")&&e.one(".flickr-infolinks-container").setStyle("bottom","0px")}repositionInfolinksUnit(t){let i,n=e.one(t),o=e.one(".flickr-infolinks-container");n&&o&&(i=n.getDOMNode().getBoundingClientRect(),o.setStyle("bottom",i.height+"px"))}canShowAd(e){var t=!this.appContext.flipper.isFlipped("moola-killswitch"),i=0===e.getValue("safetyLevel"),n=e.getValue("owner").getValue("isPro"),o=this.appContext.getViewer();return!!t&&(!n&&(!(!n&&!i)&&(!o.signedIn||!o.isPro)))}getHashedAdValue(t){var i=e.config.win.location.href+(e.config.flickr.request?e.config.flickr.request.id:window.reqId)+t+(new Date).getTime().toString()+this.getRandomInteger();return e.murmurhash(i,i+"there is no need to be so salty")}getRandomInteger(){var e=1e11;return Math.floor(9e11*Math.random()+e)}getAdPositioning(e){var t,i,n=e.one(".moola-container");return n&&(i=(t=n.getDOMNode().getBoundingClientRect()).top.toString()+t.right.toString()+t.bottom.toString()+t.left.toString()),i}refreshAdUnit(){this.isEnabled()&&window.asc&&asc.cmd.push((function(){asc.refresh()}))}processAdsOnPage(){this.isEnabled()}destroyAdUnitsOnPage(){}detectAdBlocker(){var e=document.createElement("div"),t=document.querySelector("html");e.className="textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox",e.style.height="1px",document.body.appendChild(e),e.offsetHeight||t.classList.add("user-moola-block"),e.remove()}getAdBlockStatus(){return document.querySelector("html").classList.contains("user-moola-block")}userCanViewPhotoPageSidebar(){let e=this.appContext.getViewer(),t=!(!e||!e.hasOwnProperty("isPro"))&&e.isPro;return!(!this.appContext.flipper.isFlipped("enable-photopage-sidebar")||t)}repositionDetachedMoolaUnit(t){let n,o;t?t.detachedContainer&&t.detachedContainer instanceof e.Node&&t.anchorNode&&t.anchorNode instanceof e.Node?(o=t.detachedContainer,t.anchorNode.getXY().length?(n=t.anchorNode.getXY(),o.setStyle("top",n[1]),o.setStyle("left",n[0])):i.error("Could not get the DOM node from the Y.Node anchorNode")):i.error("Improper configuration supplied. Expected a detachedContainer value, and anchorNode value. Expected detachedContainer and anchorNode to be an instance of Y.Node"):i.error("No configuration supplied for detached ad unit in repositionDetachedMoolaUnit")}initDetachedMoolaUnit(t){let n;t?t.template&&t.detachedContainer&&t.detachedContainer instanceof e.Node?(n=t.detachedContainer,n.setStyle("display","block"),n.set("innerHTML",t.template),this.repositionDetachedMoolaUnit(t)):i.error("Improper configuration supplied. Expected a template, detachedContainer value. Expected detachedContainer to be an instance of Y.Node"):i.error("No configuration supplied for detached ad unit in initDetachedMoolaUnit")}removeDetachedAdUnit(){const t=e.one("body").one("#detached-moola-container");let i;t&&(i=t.one(".detached-moola-unit"),i&&i.remove(),t.setStyle("display","none"))}}e.namespace("AdManager"),e.AdManager=n,e.namespace("AscendeumAdManager"),e.AscendeumAdManager=class extends n{constructor(...e){super(...e)}processAdsOnPage(){super.processAdsOnPage(),window.asc&&asc.cmd.push((function(){asc.processAdsOnPage()}))}destroyAdUnitsOnPage(t){super.destroyAdUnitsOnPage();let i=[],n=e.all(".moola-container[data-aa-adunit]"),o=!1;this.userCanViewPhotoPageSidebar()&&this.detachedAdUnitCompatibleViews.includes(this.appContext.initialView)&&!t?n.size()>0&&n.each((function(e){e.hasClass("detached-moola-unit")?o=!0:i.push(e.getAttribute("data-aa-adunit"))})):this.removeDetachedAdUnit(),window.asc&&asc.cmd.push((function(){i.length?asc.destroy(JSON.stringify(i)):n.size()>0&&!o&&asc.destroy()}))}},e.namespace("NextMilleniumAdManager"),e.NextMilleniumAdManager=class extends n{constructor(...t){super(...t),this.stickyAdUnit=e.config.flickr.moola.positions.photopage[1].ad_unit_desktop.nm}processAdsOnPage(){if(super.processAdsOnPage(),window.paGlobal){this.getAdsSlotsOnPage().forEach((t=>{let n=t.dataset.nmactivated;t.dataset.nmAdunit&&!n&&t.dataset.nmAdunit!==this.stickyAdUnit?(window.paGlobal.directInject(t.dataset.nmAdunit,t),t.setAttribute("data-nmactivated",!0),e.Snowplough.sendStructuredEvent({category:"ad",action:"ad_request",label:"nm",value:t.dataset.nmAdunit}),i.info("Next Millenium: Injected ad "+t.dataset.nmAdunit)):i.info("Next Millenium Didnt inject ad "+t.dataset.nmAdunit+" into element "+t.id)}))}}destroyAdUnitsOnPage(){if(super.destroyAdUnitsOnPage(),window.paGlobal){this.getAdsSlotsOnPage().forEach((function(e){e.dataset.nmId&&(window.paGlobal.resetUnit(e.dataset.nmId,e),i.info("Next Millenium: Reset ad "+e.dataset.nmId))}))}}injectStickyAdUnit(){top&&top.callUnitMan&&(top.callUnitMan(this.stickyAdUnit),e.Snowplough.sendStructuredEvent({category:"ad",action:"ad_request",label:"nm",value:this.stickyAdUnit}),i.info("Next Millenium: Manually called ad "+this.stickyAdUnit))}destroyStickyAdUnit(e){window.paGlobal&&(paGlobal.resetPl(this.stickyAdUnit),i.info("Next Millenium: Manually reset ad "+this.stickyAdUnit))}},e.namespace("TestAdManager"),e.TestAdManager=class extends n{constructor(...e){super(...e)}processAdsOnPage(){super.processAdsOnPage(),this.getAdsSlotsOnPage().forEach((function(e){e.style="display: flex;justify-content: center;align-items: center;height: 100%;",e.innerHTML='<div style="box-sizing: border-box; background-color: #ff0084; font-size: 20px; padding: 20px; display: flex; justify-content: center; align-items: center; color:white;width: 100%;"> Ad goes here</div>',i.info("Test Ads: Injected test ad")}))}}}),"@VERSION@",{requires:["cookie","io-base","json-parse","murmurhash","url"],optionalRequires:["hermes-core"]});YUI.add("viewport-data",(function(t){"use strict";var i="vp",e=function(e){var o,n,r,h=this;h.appContext=e,(o=e.getCookie(i))&&((n=o.split(",")).length>4?(this.containerWidths=n.slice(4),this.containerWidths=this.containerWidths.map((function(t){return{name:(r=t.split(":"))[0],width:r[1]}}))):this.containerWidths=[]),YUI.Env.isServer?o?(this.viewport={width:parseInt(n[0],10),height:parseInt(n[1],10)},this.density=n[2]?parseFloat(n[2]):1,this.scrollbarWidth=n[3]?parseInt(n[3],10):16):(this.viewport={width:0,height:0},this.density=1,this.scrollbarWidth=16,this.containerWidths=[]):(t.config.win&&(h.density=t.config.win.devicePixelRatio||1,h.scrollbarWidth=t.OverflowHelper.detectScrollbarSize(t.one("body"))),h.setCookieWithCurrentViewportRegion(),h.containerWidths||(h.containerWidths=[]),t.globalEvents.subscribe("window:resize",(function(t){h.setCookieWithCurrentViewportRegion()})))};e.VIEWPORT_COOKIE_NAME=i,e.MAX_NUM_CONTAINER_WIDTHS=20,e.prototype.setCookie=function(){var e,o;!this.viewport.width||this.viewport.width<0||!this.viewport.height||this.viewport.height<0||(e=this.viewport.width+","+this.viewport.height+","+this.density+","+this.scrollbarWidth,t.Lang.isArray(this.containerWidths)&&(o=this.containerWidths.reduce((function(t,i,e,o){return t+=i.name+":"+i.width,e<o.length-1&&(t+=","),t}),""))&&(e=e+","+o),this.appContext.setCookie({cookieName:i,cookieValue:e,path:"/",expiresMonthsFromNow:1}))},e.prototype.setCookieWithCurrentViewportRegion=function(){this.viewport=t.DOM.viewportRegion(),this.setCookie()},e.prototype.getWidth=function(){return this.viewport.width},e.prototype.getWidthWithScrollbars=function(){return"undefined"!=typeof window&&window.innerWidth&&window.innerWidth!==this.viewport.width?this.viewport.width+this.scrollbarWidth:this.viewport.width},e.prototype.getHeight=function(){return this.viewport.height},e.prototype.getDevicePixelRatio=function(){return this.density},e.prototype.getScrollbarWidth=function(){return this.scrollbarWidth},e.prototype.getCommonMobileViewportWidth=function(){return 320},e.prototype.getContainerWidth=function(t){var i=0;return this.containerWidths.some((function(e){if(e.name===t)return i=parseInt(e.width,10),!0})),i},e.prototype.setContainerWidth=function(t,i){this.containerWidths.length>=e.MAX_NUM_CONTAINER_WIDTHS&&(this.containerWidths=this.containerWidths.slice(this.containerWidths.length-e.MAX_NUM_CONTAINER_WIDTHS+1)),this.containerWidths.some((function(e){if(e.name===t)return e.width=i,!0}))||this.containerWidths.push({name:t,width:i}),this.setCookie()},t.ViewportData=e}),"@VERSION@");YUI.add("better-querystring-parse-simple",(function(e,r){}),"@VERSION@",{requires:["better-querystring-parse"],condition:{trigger:"querystring-parse-simple",when:"instead"}});YUI.add("browser-support",(function(e,o){var r="Google Page Speed Insights",n=new RegExp(["UP\\.Link","UP\\.Browser","Profile\\/MIDP-","MMP\\/","NetFront","BlackBerry","Danger hiptop","Windows CE","MMP\\/","MIDP","Palm","Nokia","Symbian","iPhone","iPod","Android.+Mobile","Mobile.+Firefox","BB10.+Mobile","webOS","SAMSUNG.+Mobile Safari","SEC_.+Mobile Safari",r+".+Mobile"].join("|"),"i"),i=new RegExp([r].join("|"),"i"),t=new RegExp(["Edge"].join("|"),"i"),s=["facebot","facebook","facebookexternalhit","twitterbot","twitter","pinterest"],a=["bot","crawl","slurp","spider"],u=new RegExp(["Mediapartners-Google","AdsBot-Google","Googlebot","Google Favicon"].join("|"),"i"),c=new RegExp(["bingbot","BingPreview"].join("|"),"i"),f=/Windows NT (?:(?:4|5)\.\d|6\.(?:0|1))/i,d=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i,l="Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)",p=function(e){var o;try{o=YUI.Env.parseUA(e)}catch(e){}return o&&o.userAgent?o.userAgent.toLowerCase():""},g=function(e,o){var r,n=!1;if(void 0===e||""===e)return!0;if(o)for(r in o)void 0!==o[r]&&!isNaN(o[r])&&o[r]>0&&(n=!0);return!n};e.mix(e.namespace("BrowserSupport"),{isUnsupportedBrowser:function(e){var o,r=!1;try{o=YUI.Env.parseUA(e)}catch(e){}if(g(e,o))return!1;let n=this.getModernSafariVersion(e),t=12===n.major&&n.minor>=1||n.major>12;return o.safari>=533.21&&t||o.chrome>=20||o.gecko>=24||o.opera>=15||"android"===o.os||"ios"===o.os&&o.ios>=6||o.ie>11||(r=!0),i.test(o.userAgent)&&(r=!1),e===l||r},isReallyUnsupportedBrowser:function(e){var o,r=!1;try{o=YUI.Env.parseUA(e)}catch(e){}return!g(e,o)&&(o.safari>=533.21||o.chrome>=13||o.gecko>=2||(e||"").indexOf("Firefox/4.0")>-1||o.opera>=12||"android"===o.os||"ios"===o.os&&o.ios>=4||o.ie>=9||(r=!0),e!==l&&r)},isMobileBrowser:function(e){try{var o=YUI.Env.parseUA(e);return!o.ipad&&((!o.mobile||!/Nexus 10/.test(o.userAgent))&&(!!o.mobile||n.test(o.userAgent)))}catch(e){}return!1},isMobileOrTablet:function(e){try{var o=YUI.Env.parseUA(e);return!!o.mobile||n.test(o.userAgent)}catch(e){}return!1},isBot:function(e){var o,r=!1;return o=p(e),a.some((function(e){return o.indexOf(e)>-1&&(r=!0,!0)})),r},isSharingBot:function(e){var o,r=!1;return o=p(e),s.some((function(e){return o.indexOf(e)>-1&&(r=!0,!0)})),r},isFacebook:function(e){var o=!1;return p(e).indexOf("facebookexternalhit/1.1")>-1&&(o=!0),o},isGoogle:function(e){return u.test(p(e))},isBing:function(e){return c.test(p(e))},getOSString:function(e){var o,r="";try{o=YUI.Env.parseUA(e)}catch(e){}return e&&e.indexOf("Windows Phone")>-1?r="windows":o&&o.os&&(r=o.os.toLowerCase()),r},isWebview:function(e){return d.test(e)},isGooglePageSpeedToolMobile:function(e){return new RegExp(r+".+Mobile").test(e)},isGooglePageSpeedToolDesktop:function(e){return new RegExp(r).test(e)},isEdge:function(e){return new RegExp(t).test(e)},isOldWindows:function(e){return f.test(e)},isTouchScreen:function(e){return void 0!==e&&"maxTouchPoints"in e&&e.maxTouchPoints>0||void 0!==e&&"msMaxTouchPoints"in e&&e.msMaxTouchPoints>0},getModernSafariVersion:function(e){let o=e.match(/Version\/(\d+)(?:\.(\d+)(?:\.(\d+))?)?/i),r={major:0,minor:0,patch:0};return o&&o.length>1&&["major","minor","patch"].forEach(((e,n)=>{n+1<o.length&&(r[e]=parseInt(o[n+1],10)||0)})),r}})}),"@VERSION@",{requires:[]});YUI.add("pluginhost-base",function(e,t){function r(){this._plugins={}}var n=e.Lang;r.prototype={plug:function(e,t){var r,i,s;if(n.isArray(e))for(r=0,i=e.length;r<i;r++)this.plug(e[r]);else e&&!n.isFunction(e)&&(t=e.cfg,e=e.fn),e&&e.NS&&(s=e.NS,t=t||{},t.host=this,this.hasPlugin(s)?this[s].setAttrs&&this[s].setAttrs(t):(this[s]=new e(t),this._plugins[s]=e));return this},unplug:function(e){var t=e,r=this._plugins;if(e)n.isFunction(e)&&(t=e.NS,t&&(!r[t]||r[t]!==e)&&(t=null)),t&&(this[t]&&(this[t].destroy&&this[t].destroy(),delete this[t]),r[t]&&delete r[t]);else for(t in this._plugins)this._plugins.hasOwnProperty(t)&&this.unplug(t);return this},hasPlugin:function(e){return this._plugins[e]&&this[e]},_initPlugins:function(e){this._plugins=this._plugins||{},this._initConfigPlugins&&this._initConfigPlugins(e)},_destroyPlugins:function(){this.unplug()}},e.namespace("Plugin").Host=r},"3.16.0",{requires:["yui-base"]});
YUI.add("pluginhost-config",function(e,t){var n=e.Plugin.Host,r=e.Lang;n.prototype._initConfigPlugins=function(t){var n=this._getClasses?this._getClasses():[this.constructor],r=[],i={},s,o,u,a,f;for(o=n.length-1;o>=0;o--)s=n[o],a=s._UNPLUG,a&&e.mix(i,a,!0),u=s._PLUG,u&&e.mix(r,u,!0);for(f in r)r.hasOwnProperty(f)&&(i[f]||this.plug(r[f]));t&&t.plugins&&this.plug(t.plugins)},n.plug=function(t,n,i){var s,o,u,a;if(t!==e.Base){t._PLUG=t._PLUG||{},r.isArray(n)||(i&&(n={fn:n,cfg:i}),n=[n]);for(o=0,u=n.length;o<u;o++)s=n[o],a=s.NAME||s.fn.NAME,t._PLUG[a]=s}},n.unplug=function(t,n){var i,s,o,u;if(t!==e.Base){t._UNPLUG=t._UNPLUG||{},r.isArray(n)||(n=[n]);for(s=0,o=n.length;s<o;s++)i=n[s],u=i.NAME,t._PLUG[u]?delete t._PLUG[u]:t._UNPLUG[u]=i}}},"3.16.0",{requires:["pluginhost-base"]});
YUI.add("base-pluginhost",function(e,t){var n=e.Base,r=e.Plugin.Host;e.mix(n,r,!1,null,1),n.plug=r.plug,n.unplug=r.unplug},"3.16.0",{requires:["base-base","pluginhost"]});
YUI.add("template-base",function(e,t){function n(t,n){this.defaults=n,this.engine=t||e.Template.Micro,this.engine||e.error("No template engine loaded.")}n._registry={},n.register=function(e,t){return n._registry[e]=t,t},n.get=function(e){return n._registry[e]},n.render=function(t,r,i){var s=n._registry[t],o="";return s?o=s(r,i):e.error('Unregistered template: "'+t+'"'),o},n.prototype={compile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.compile(t,n)},precompile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.precompile(t,n)},render:function(t,n,r){return r=r?e.merge(this.defaults,r):this.defaults,this.engine.render?this.engine.render(t,n,r):this.engine.compile(t,r)(n,r)},revive:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.revive?this.engine.revive(t,n):t}},e.Template=e.Template?e.mix(n,e.Template):n},"3.16.0",{requires:["yui-base"]});
