YUI.add("effective-subscriptions-models",(function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-subscriptions-getEffectiveSubscriptions-fetcher"].run(t,this.appContext)}},attributes:{active:{validator:function(t){if(t.length>0){var i=!1;return t.forEach((function(t){i=e.AttributeHelpers.validateDate(t.nextBillingDate)})),i}return!0},serialize:function(e){return e.forEach((function(e){e.nextBillingDate=e.nextBillingDate.format("X")})),e},deserialize:function(t){return t.forEach((function(t){t.nextBillingDate=e.moment(t.nextBillingDate,"X")})),t}},closed:{},pending:{validator:function(t){if(t.length>0){var i=!1;return t.forEach((function(t){i=e.AttributeHelpers.validateDate(t.nextBillingDate)})),i}return!0},serialize:function(e){return e.forEach((function(e){e.nextBillingDate=e.nextBillingDate.format("X")})),e},deserialize:function(t){return t.forEach((function(t){t.nextBillingDate=e.moment(t.nextBillingDate,"X")})),t}},pastDue:{},all:{},length:{defaultValue:0}}})}),"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-subscriptions-getEffectiveSubscriptions-fetcher","moment"]});YUI.add("flickr-subscriptions-getEffectiveSubscriptions-fetcher",(function(e,s){var i=new e.SubscriptionsHelper;e.namespace("ModelFetchers")["flickr-subscriptions-getEffectiveSubscriptions-fetcher"]={run:function(i,t){var r=this;return e.Promise.all([t.callAPI("flickr.subscriptions.getEffectiveSubscriptions",i),t.getModelRegistry("effective-subscriptions-models")]).then((function(e){return r._processResponse(e,i,t)}),e.FetcherErrorLogger(s))},_processResponse:function(e,s,t){var r,c=e[0],n=e[1];if(r={id:s.id,all:[],active:[],pending:[],closed:[],pastDue:[]},c&&"ok"===c.stat&&c.subscriptions){var p=c.subscriptions,o=0;p&&(p.all&&(r.all=i.parseEffectiveSubscriptions(p.all),o+=p.all.length),p.active&&(r.active=i.parseEffectiveSubscriptions(p.active),o+=p.active.length),p.pending&&(r.pending=i.parseEffectiveSubscriptions(p.pending),o+=p.pending.length),p.closed&&(r.closed=i.parseEffectiveSubscriptions(p.closed),o+=p.closed.length),p.subscription_went_past_due&&(r.pastDue=i.parseEffectiveSubscriptions(p.subscription_went_past_due),o+=p.subscription_went_past_due.length),r.length=o)}n.addOrUpdate(r)}}}),"@VERSION@",{requires:["flickr-promise","flickr-promise","effective-subscriptions-models","subscriptions-helper"],optional:["api-helper"]});YUI.add("flickr-contacts-add-updater",(function(r,c){"use strict";r.namespace("ModelUpdaters")["flickr-contacts-add"]={run:function(t,e){return e.callAPI("flickr.contacts.add",t).then(null,r.FetcherErrorLogger(c))}}}),"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-contacts-remove-updater",(function(r,e){"use strict";r.namespace("ModelUpdaters")["flickr-contacts-remove"]={run:function(c,t){return t.callAPI("flickr.contacts.remove",c).then(null,r.FetcherErrorLogger(e))}}}),"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-contacts-edit-updater",(function(r,t){"use strict";r.namespace("ModelUpdaters")["flickr-contacts-edit"]={run:function(e,c){return c.callAPI("flickr.contacts.edit",e).then(null,r.FetcherErrorLogger(t))}}}),"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-contacts-block-updater",(function(c,r){"use strict";c.namespace("ModelUpdaters")["flickr-contacts-block"]={run:function(t,e){return e.callAPI("flickr.contacts.block",t).then(null,c.FetcherErrorLogger(r))}}}),"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-contacts-unblock-updater",(function(c,r){"use strict";c.namespace("ModelUpdaters")["flickr-contacts-unblock"]={run:function(n,t){return t.callAPI("flickr.contacts.unblock",n).then(null,c.FetcherErrorLogger(r))}}}),"@VERSION@",{requires:["flickr-promise"]});